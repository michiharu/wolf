(this["webpackJsonpcreate-react-app-with-typescript"]=this["webpackJsonpcreate-react-app-with-typescript"]||[]).push([[0],{110:function(e,t,n){"use strict";var a=n(2),r=n(0),c=n(24),i=n(77),o=n(76);t.a=function(e){var t=e.ks,n=e.x,l=e.y,u=e.badgeContent,s=e.onClick,d=e.onTap,m=e.onMouseEnter,f=e.onMouseLeave,p=Object(a.a)(Object(a.a)({},e),{},{ks:t,x:0,y:0});if(u<1)return r.createElement(c.Group,{x:n,y:l},r.createElement(i.a,p));var h=String(u).length,b=2*t.badgeFontHeight,g={x:t.rect.h/2*t.unit,y:(9*t.rect.h/20-b)*t.unit,width:(b+(h-1)*t.badgeFontSize/3)*t.unit,height:b*t.unit,fill:o.theme.palette.primary.main,cornerRadius:b/2*t.unit,onClick:s,onTap:s,onMouseEnter:m,onMouseLeave:f},O={x:(t.rect.h/2+b/2.2-h*t.badgeFontSize/5.5)*t.unit,y:(9*t.rect.h/20-.75*b)*t.unit,text:String(u),fontSize:t.badgeFontSize*t.unit,fill:"#fff",onClick:s,onTap:d,onMouseEnter:m,onMouseLeave:f};return r.createElement(c.Group,{x:n,y:l},r.createElement(i.a,p),r.createElement(c.Rect,g),r.createElement(c.Text,O))}},149:function(e,t,n){"use strict";t.a=[{d:"M0 0h24v24H0z",fill:!1},{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z",fill:!0}]},15:function(e,t,n){"use strict";n.d(t,"q",(function(){return P}));var a=n(390),r=n.n(a);n.d(t,"o",(function(){return r.a}));var c=n(391),i=n.n(c);n.d(t,"n",(function(){return i.a}));var o=n(392),l=n.n(o);n.d(t,"a",(function(){return l.a}));var u=n(393),s=n.n(u);n.d(t,"f",(function(){return s.a}));var d=n(394),m=n.n(d);n.d(t,"j",(function(){return m.a}));var f=n(395),p=n.n(f);n.d(t,"l",(function(){return p.a}));var h=n(396),b=n.n(h);n.d(t,"k",(function(){return b.a}));var g=n(397),O=n.n(g);n.d(t,"p",(function(){return O.a}));var E=n(398),v=n.n(E);n.d(t,"m",(function(){return v.a}));var j=n(399),y=n.n(j);n.d(t,"i",(function(){return y.a}));var x=n(400),w=n.n(x);n.d(t,"d",(function(){return w.a}));var k=n(401),S=n.n(k);n.d(t,"e",(function(){return S.a}));var C=n(283),I=n.n(C);n.d(t,"c",(function(){return I.a}));var N=n(402),T=n.n(N);n.d(t,"b",(function(){return T.a}));var _=n(403),A=n.n(_);n.d(t,"h",(function(){return A.a}));var R=n(404),L=n.n(R);n.d(t,"g",(function(){return L.a}));var P={unit:16,rect:{w:40,h:2},margin:{w:1,h:1},spr:{w:1,h:1},indent:4,fontSize:.9,fontHeight:.75,textline:1,icon:1,badgeFontSize:.7,badgeFontHeight:.6,cornerRadius:.5,hasArrow:!0,pointerSpace:.2,pointerLength:.4,pointerWidth:.4}},150:function(e,t,n){"use strict";t.a=[{d:"M0 0h24v24H0z",fill:!1},{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z",fill:!0}]},152:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(44),r=n.n(a)()(),c={change:r("ACTIONS_RS_CHANGE"),reset:r("ACTIONS_RS_RESET")}},189:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n(56),c=n(9),i=function e(){Object(r.a)(this,e)};i.setArrow=function(e,t){var n=i._resetArrow(e);return n=i._setInArrowOfNotSwitch(n,t),n=i._setInArrowOfSwitch(n,t),n=i._setNextArrow(n,t),n=i._setReturnArrow(n,null,null,t)},i._resetArrow=function(e){var t=e.children.map((function(e){return i._resetArrow(e)}));return Object(a.a)(Object(a.a)({},e),{},{children:t,arrows:[]})},i._setInArrowOfNotSwitch=function(e,t){var n=e.children.map((function(e){return i._setInArrowOfNotSwitch(e,t)}));if(!Object(c.h)(e.type)&&e.open&&0!==n.length){var r=[[{x:t.rect.w/2-4*t.spr.w+t.indent,y:t.rect.h},{x:t.rect.w/2-4*t.spr.w+t.indent,y:t.rect.h+t.margin.h-t.pointerSpace}]];return Object(a.a)(Object(a.a)({},e),{},{children:n,arrows:r})}return Object(a.a)(Object(a.a)({},e),{},{children:n})},i._setInArrowOfSwitch=function(e,t){var n=e.children.map((function(e){return i._setInArrowOfSwitch(e,t)}));if(e.open&&Object(c.h)(e.type)&&0!==n.length){var r=t.rect.h+t.margin.h+.5*t.rect.h,o=n.map((function(e,n){var a=[{x:(t.indent-t.pointerSpace)/2,y:t.rect.h},{x:(t.indent-t.pointerSpace)/2,y:r},{x:t.indent-t.pointerSpace,y:r}];return r+=e.self.h+t.margin.h,a}));return Object(a.a)(Object(a.a)({},e),{},{children:n,arrows:o})}return Object(a.a)(Object(a.a)({},e),{},{children:n})},i._setNextArrow=function(e,t){var n=e.children.map((function(n,r){if(n.open&&0!==n.children.length)return i._setNextArrow(n,t);if(Object(c.g)(n.type)||e.children.length-1===r)return n;var o=n.open?t.margin.h:0,l=[[{x:t.rect.w/2-4*t.spr.w,y:t.rect.h},{x:t.rect.w/2-4*t.spr.w,y:t.rect.h+t.margin.h+o-t.pointerSpace}]];return Object(a.a)(Object(a.a)({},n),{},{arrows:l})}));return Object(a.a)(Object(a.a)({},e),{},{children:n})},i._setReturnArrow=function(e,t,n,r){if(e.open&&0!==e.children.length){var o=e.children.map((function(o,l,u){return u.length-1===l?o.open&&0!==o.children.length?i._setReturnArrow(o,t,n,r):null!==n?Object(a.a)(Object(a.a)({},o),{},{arrows:i.getArrowPoints(o,t,n,r)}):o:0!==o.children.length?Object(c.h)(e.type)?i._setReturnArrow(o,t,n,r):i._setReturnArrow(o,o,u[l+1],r):o}));return Object(a.a)(Object(a.a)({},e),{},{children:o})}return!e.open&&Object(c.g)(e.type)&&null!==n?Object(a.a)(Object(a.a)({},e),{},{arrows:i.getArrowPoints(e,t,n,r)}):e},i._hasUnderNode=function(e,t){return 0!==e.children.length&&(!!e.children.map((function(e){return t.point.y<e.point.y})).reduce((function(e,t){return e||t}))||!(e.children[e.children.length-1].id===t.id&&!t.open)&&e.children.map((function(e){return i._hasUnderNode(e,t)})).reduce((function(e,t){return e||t})))},i.getArrowPoints=function(e,t,n,a){var r=n.point.x-e.point.x,o=n.point.y-e.point.y;if(Object(c.i)(t.type)&&!i._hasUnderNode(t,e)){var l=a.rect.w/2-4*a.spr.w-(e.point.x-t.point.x);return l<a.spr.w?[[{x:a.rect.w/2-4*a.spr.w,y:a.rect.h},{x:a.rect.w/2-4*a.spr.w,y:a.rect.h+a.spr.h},{x:l,y:a.rect.h+a.spr.h},{x:l,y:o-a.pointerSpace}]]:[[{x:l,y:a.rect.h},{x:l,y:o-a.pointerSpace}]]}var u=t.self.w-(e.point.x-t.point.x)-a.spr.w,s=u<a.rect.w+a.spr.w?a.rect.w+a.spr.w:u,d=1===a.margin.h?1:2;return[[{x:a.rect.w,y:a.rect.h/2},{x:s,y:a.rect.h/2},{x:s,y:o-a.spr.h*d},{x:a.rect.w/2-4*a.spr.w+r,y:o-a.spr.h*d},{x:a.rect.w/2-4*a.spr.w+r,y:o-a.pointerSpace}]]}},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n(56),c=n(9),i=function e(){Object(r.a)(this,e)};i._get=function(e,t){var n=e.children.map((function(e){return i._get(e,t)}));return Object(a.a)(Object(a.a)(Object(a.a)({},t),e),{},{children:n})},i.getAsArray=function(e,t){return e.map((function(e){return Object(a.a)(Object(a.a)({},t),e)}))},i.getGenealogy=function(e,t){var n=i.getGeneOrFalse(e,t);if(!1===n)throw new Error("Target is not found.");return n},i.getGeneOrFalse=function(e,t){if(0===e.length)return!1;var n=e.find((function(e){return t.id===e.id}));return n?[n]:e.map((function(e){var n=i.getGeneOrFalse(e.children,t);return!1!==n&&[e].concat(n)})).reduce((function(e,t){return e||t||!1}))},i._replaceArray=function(e,t){return 0===e.length?[]:e.map((function(e){return t.id===e.id?t:Object(a.a)(Object(a.a)({},e),{},{children:i._replaceArray(e.children,t)})}))},i._replace=function(e,t){if(e.id===t.id)return t;var n=e.children.map((function(e){return i._replace(e,t)}));return Object(a.a)(Object(a.a)({},e),{},{children:n})},i._findArray=function(e,t){if(0!==e.length){var n=e.find((function(e){return e.id===t}));return void 0!==n?n:e.map((function(e){return i._findArray(e.children,t)})).reduce((function(e,t){return e||t||void 0}))}},i._find=function(e,t){return e.id===t?e:0!==e.children.length?e.children.map((function(e){return i._find(e,t)})).reduce((function(e,t){return e||t||void 0})):void 0},i._toArray=function(e){return e.map((function(e){return 0===e.children.length?[e]:[e].concat(i._toArray(e.children))})).reduce((function(e,t){return e.concat(t)}))},i.search=function(e,t){var n=i.splitSearchWords(e);return t.filter((function(e){return 0===n.length||n.map((function(t){return null!==e.label.match(new RegExp("".concat(t)))||null!==e.output.match(new RegExp("".concat(t)))})).reduce((function(e,t){return!0===e&&!0===t}))}))},i.splitSearchWords=function(e){return e.split(/\s|\u3000/).map((function(e){return e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}))},i._setId=function(e){var t="rand:"+String(Math.random()).slice(2),n=e.children.map((function(e){return i._setId(e)}));return Object(a.a)(Object(a.a)({},e),{},{id:t,children:n})},i._clearId=function(e){var t=e.children.map((function(e){return i._clearId(e)}));return Object(a.a)(Object(a.a)({},e),{},{id:"",children:t})},i.getNewNode=function(e,t){return Object(a.a)(Object(a.a)({},t),{},{id:"rand:"+String(Math.random()).slice(2),type:Object(c.h)(e)?c.a.case:c.a.task,open:Object(c.h)(e),children:Object(c.h)(e)?[Object(a.a)(Object(a.a)({},t),{},{id:"rand:"+String(Math.random()).slice(2)})]:[]})},i.match=function(e,t){return 0===t.length||t.map((function(t){return null!==e.label.match(new RegExp("".concat(t)))||null!==e.output.match(new RegExp("".concat(t)))})).reduce((function(e,t){return!0===e&&!0===t}))},i._searchAndFilter=function(e,t){return t.map((function(t){return Object(a.a)(Object(a.a)({},t),{},{children:i._searchAndFilter(e,t.children)})})).filter((function(t){return i.match(t,e)||0!==t.children.length}))},i._hasDifference=function(e,t){return e.id!==t.id||(e.type!==t.type||(e.label!==t.label||(e.input!==t.input||(e.output!==t.output||(e.preConditions!==t.preConditions||(e.postConditions!==t.postConditions||(e.workerInCharge!==t.workerInCharge||(e.remarks!==t.remarks||(e.necessaryTools!==t.necessaryTools||(e.exceptions!==t.exceptions||(e.imageBlob!==t.imageBlob||(e.children.length!==t.children.length||0!==e.children.length&&e.children.map((function(n,a){return{t:e.children[a],e:t.children[a]}})).map((function(e){return i._hasDifference(e.t,e.e)})).reduce((function(e,t){return e||t}))))))))))))))},i._hasDifferenceWithAppearance=function(e,t){return e.open!==t.open||(e.id!==t.id||(e.type!==t.type||(e.label!==t.label||(e.input!==t.input||(e.output!==t.output||(e.preConditions!==t.preConditions||(e.postConditions!==t.postConditions||(e.workerInCharge!==t.workerInCharge||(e.remarks!==t.remarks||(e.necessaryTools!==t.necessaryTools||(e.exceptions!==t.exceptions||(e.imageBlob!==t.imageBlob||(e.children.length!==t.children.length||0!==e.children.length&&e.children.map((function(n,a){return{t:e.children[a],e:t.children[a]}})).map((function(e){return i._hasDifferenceWithAppearance(e.t,e.e)})).reduce((function(e,t){return e||t})))))))))))))))},i._isAllSwitchHasCase=function(e){return 0===e.children.length?!Object(c.h)(e.type):e.children.map((function(e){return i._isAllSwitchHasCase(e)})).reduce((function(e,t){return e&&t}))},i._isAllCaseHasItem=function(e){return 0===e.children.length?!Object(c.g)(e.type):e.children.map((function(e){return i._isAllCaseHasItem(e)})).reduce((function(e,t){return e&&t}))},i._deleteById=function(e,t){if(void 0!==e.children.find((function(e){return e.id===t})))return Object(a.a)(Object(a.a)({},e),{},{children:e.children.filter((function(e){return e.id!==t}))});var n=e.children.map((function(e){return i._deleteById(e,t)}));return Object(a.a)(Object(a.a)({},e),{},{children:n})},i.moveBrother=function(e,t,n){var a=i._getPrent(e,t).children.map((function(e){return e.id})),r=a.indexOf(t.id)+1===a.indexOf(n.id),c=i._deleteById(e,t.id);return i._insert(c,t,n,r)},i._insert=function(e,t,n,r){var c=e.children.map((function(e){return e.id})).indexOf(n.id);if(-1!==c)return e.children.splice(c+(r?1:0),0,t),e;var o=e.children.map((function(e){return i._insert(e,t,n,r)}));return Object(a.a)(Object(a.a)({},e),{},{children:o})},i.moveInOut=function(e,t,n){var a=void 0===n.children.find((function(e){return e.id===t.id})),r=i._deleteById(e,t.id);return a?i._push(r,t,n):i._insert(r,t,n,!0)},i._push=function(e,t,n){var r=e.id===n.id?e.children.concat([t]):e.children.map((function(e){return i._push(e,t,n)}));return Object(a.a)(Object(a.a)({},e),{},{children:r})},i._unshift=function(e,t,n){var r=e.id===n.id?[t].concat(e.children):e.children.map((function(e){return i._unshift(e,t,n)}));return Object(a.a)(Object(a.a)({},e),{},{children:r})},i._getPrent=function(e,t){return 0===e.children.length?null:void 0!==e.children.find((function(e){return e.id===t.id}))?e:e.children.map((function(e){return i._getPrent(e,t)})).reduce((function(e,t){return e||t||null}))}},249:function(e,t,n){"use strict";var a=n(2),r=n(21),c=n(67),i=n(152),o=n(0),l=n(414),u=n(90),s=n(717),d=n(239),m=n(692),f=n(427),p=n(426),h=n(735),b=n(300),g=n(718),O=n(61),E=n(71),v=n(117),j=n.n(v),y=Object(l.a)((function(e){return{root:{position:"absolute",top:"75vh",left:"50vw",width:"90vw",maxHeight:"45vh",transform:"translate(-50%, -50%)",padding:e.spacing(4),paddingBottom:e.spacing(2),outline:"none",overflow:"scroll"},speechLabel:{marginTop:e.spacing(3.8)},cardSettingLabel:{paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},longSetter:{width:200},shortSetter:{width:100},slider:{paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}})),x=function(e){var t=e.ks,n=e.rs,r=e.changeKS,c=e.changeRS,i=e.resetKS,l=e.resetRS,v=y();return o.createElement(u.a,{className:v.root},o.createElement(s.a,{container:!0,spacing:4},o.createElement(s.a,{item:!0,xs:12,md:4},o.createElement(d.a,null,o.createElement(m.a,null,"\u30d5\u30ed\u30fc\u306e\u8868\u73fe"),o.createElement(f.a,{value:t.hasArrow?"arrow":"rect",onChange:function(e){var n=Object(a.a)(Object(a.a)({},t),{},{hasArrow:"arrow"===e.target.value});r(n)}},o.createElement(p.a,{value:"arrow",control:o.createElement(h.a,null),label:"\u30d5\u30ed\u30fc\u30c1\u30e3\u30fc\u30c8"}),o.createElement(p.a,{value:"rect",control:o.createElement(h.a,null),label:"\u5305\u542b\u95a2\u4fc2\u56f3\uff08\u30aa\u30a4\u30e9\u30fc\u56f3\uff09"})))),o.createElement(s.a,{item:!0,xs:12,md:!0},o.createElement(s.a,{container:!0,spacing:5},o.createElement(s.a,{item:!0},o.createElement(d.a,null,o.createElement(m.a,null,"\u97f3\u58f0\u8aad\u307f\u4e0a\u3052"),o.createElement(b.a,null,o.createElement(p.a,{control:o.createElement(g.a,{checked:n.playOnClick,onChange:function(e){return c(Object(a.a)(Object(a.a)({},n),{},{playOnClick:e.target.checked}))}}),label:"\u30ab\u30fc\u30c9\u9078\u629e\u6642\u306b\u8aad\u307f\u4e0a\u3052",labelPlacement:"start"})))),o.createElement(s.a,{item:!0},o.createElement(O.a,{className:v.speechLabel},"\u518d\u751f\u30b9\u30d4\u30fc\u30c9"),o.createElement("div",{className:v.shortSetter},o.createElement(j.a,{classes:{container:v.slider},value:n.rate,min:.1,max:1.5,step:.1,onChange:function(e,t){return c(Object(a.a)(Object(a.a)({},n),{},{rate:t}))}}))),o.createElement(s.a,{item:!0},o.createElement(O.a,{className:v.speechLabel},"\u518d\u751f\u30d4\u30c3\u30c1"),o.createElement("div",{className:v.shortSetter},o.createElement(j.a,{classes:{container:v.slider},value:n.pitch,min:.1,max:2,step:.1,onChange:function(e,t){return c(Object(a.a)(Object(a.a)({},n),{},{pitch:t}))}})))))),o.createElement(m.a,{className:v.cardSettingLabel},"\u30ab\u30fc\u30c9\u8868\u793a\u8a2d\u5b9a"),o.createElement(s.a,{container:!0,justify:"space-between",spacing:4},o.createElement(s.a,{item:!0,xs:12,md:4},o.createElement("div",{className:v.longSetter},o.createElement(O.a,null,"\u8868\u793a\u306e\u5927\u304d\u3055"),o.createElement(j.a,{classes:{container:v.slider},value:t.unit,min:8,max:30,step:2,onChange:function(e,n){var c=Object(a.a)(Object(a.a)({},t),{},{unit:n});r(c)}}))),o.createElement(s.a,{item:!0,xs:6,md:4},o.createElement("div",{className:v.longSetter},o.createElement(O.a,null,"\u9577\u65b9\u5f62\u306e\u6a2a\u5e45"),o.createElement(j.a,{classes:{container:v.slider},value:t.rect.w,min:20,max:80,step:1,onChange:function(e,n){var c=Object(a.a)(Object(a.a)({},t),{},{rect:Object(a.a)(Object(a.a)({},t.rect),{},{w:n})});r(c)}}))),o.createElement(s.a,{item:!0,xs:6,md:4},o.createElement("div",{className:v.shortSetter},o.createElement(O.a,null,"\u9577\u65b9\u5f62\u306e\u7e26\u5e45"),o.createElement(j.a,{classes:{container:v.slider},value:t.rect.h,min:2,max:4,step:1,onChange:function(e,n){var c=Object(a.a)(Object(a.a)({},t),{},{rect:Object(a.a)(Object(a.a)({},t.rect),{},{h:n})});r(c)}}))),o.createElement(s.a,{item:!0,xs:6,md:4},o.createElement("div",{className:v.shortSetter},o.createElement(O.a,null,"\u30a4\u30f3\u30c7\u30f3\u30c8"),o.createElement(j.a,{classes:{container:v.slider},value:t.indent,min:2,max:6,step:2,onChange:function(e,n){var c=Object(a.a)(Object(a.a)({},t),{},{indent:n});r(c)}}))),o.createElement(s.a,{item:!0,xs:6,md:4},o.createElement("div",{className:v.shortSetter},o.createElement(O.a,null,"\u7e26\u306e\u4f59\u767d"),o.createElement(j.a,{classes:{container:v.slider},value:t.margin.h,min:1,max:3,step:1,onChange:function(e,n){var c=Object(a.a)(Object(a.a)({},t),{},{margin:Object(a.a)(Object(a.a)({},t.margin),{},{h:n})});r(c)}}))),o.createElement(s.a,{item:!0,xs:12,md:4},o.createElement(E.a,{variant:"contained",onClick:function(){i(),l()}},"\u65e2\u5b9a\u5024\u3078\u623b\u3059"))))};t.a=Object(r.b)((function(e){return Object(a.a)(Object(a.a)({},e.ks),e.rs)}),(function(e){return{changeKS:function(t){return e(c.d.change(t))},resetKS:function(){return e(c.d.reset())},changeRS:function(t){return e(i.a.change(t))},resetRS:function(){return e(i.a.reset())}}}))(x)},305:function(e,t,n){"use strict";var a=n(2),r=n(0),c=n.n(r),i=n(296),o=n(79),l=n(97),u=n.n(l),s=n(24),d=n(78),m=n(77),f=n(76),p=n(110),h=n(150),b=Object(r.memo)((function(e){var t=e.node,n=e.ks,l=e.stageRef,b=Object(r.useRef)(null),g=Object(r.useRef)(null),O=Object(r.useRef)(null),E=function(n){n.cancelBubble=!0,t.focus||e.focus(t)},v=i.a.A100,j={x:0,y:0,width:t.rect.w*n.unit,height:t.rect.h*n.unit,cornerRadius:4,fill:v,stroke:t.focus?"#80bdff":"#0000",strokeWidth:6,shadowColor:t.focus?"#80bdff":"black",shadowBlur:6,shadowOffsetY:t.focus?0:3,shadowOpacity:t.focus?1:e.nowDragging?.2:.1,onMouseEnter:function(t){if(t.cancelBubble=!0,e.isEditing){var n=l.current;null!==n&&(n.container().style.cursor="grab")}},onMouseLeave:function(t){if(t.cancelBubble=!0,e.isEditing){var n=l.current;null!==n&&(n.container().style.cursor="default")}}},y=t.focus?Object(a.a)(Object(a.a)({},j),{},{stroke:"#80bdff",shadowColor:"#80bdff",strokeWidth:6,shadowBlur:6,shadowOffsetY:0,shadowOpacity:1}):j,x={text:"\u30b9\u30bf\u30fc\u30c8",fontSize:n.fontSize*n.unit,x:(n.rect.h+n.fontSize/2)*n.unit,y:(n.rect.h-n.fontHeight)/2*n.unit},w={ks:n,x:0,y:0,svg:d.a,color:f.theme.palette.primary.main},k={x:0,y:0,ref:g,onClick:E,onTap:E},S=b.current,C=g.current,I=null!==S&&null!==C&&0!==S.x()&&!C.isDragging();I&&S.to({x:t.point.x*n.unit,y:t.point.y*n.unit,easing:u.a.Easings.EaseInOut});var N=I?void 0:t.point.x*n.unit,T=I?void 0:t.point.y*n.unit,_={ks:n,x:(n.rect.w-n.rect.h)*n.unit,y:0,svg:h.a,badgeContent:t.children.length,onClick:E,onMouseEnter:function(e){e.cancelBubble=!0;var t=l.current;null!==t&&(t.container().style.cursor="pointer")},onMouseLeave:function(e){e.cancelBubble=!0;var t=l.current;null!==t&&(t.container().style.cursor="default")}},A={stroke:o.a[700],fill:o.a[700],pointerLength:n.pointerLength*n.unit,pointerWidth:n.pointerWidth*n.unit};return c.a.createElement(s.Group,{ref:b,x:N,y:T},c.a.createElement(s.Group,k,c.a.createElement(s.Rect,Object.assign({ref:O},y)),c.a.createElement(m.a,w),c.a.createElement(s.Text,x),c.a.createElement(p.a,_),n.hasArrow&&t.arrows.map((function(e,a){var r=e.map((function(e){return[e.x,e.y]})).reduce((function(e,t){return e.concat(t)})).map((function(e){return e*n.unit}));return c.a.createElement(s.Arrow,Object.assign({key:"".concat(t.id,"-arrow-").concat(a)},A,{points:r}))}))))}),(function(e,t){return!e.node.isDragging&&t.node.isDragging}));t.a=b},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=n(56),c=n(9),i=n(20),o=function e(){Object(r.a)(this,e)};o._init=function(e){var t=e.children.map((function(e){return o._init(e)}));return Object(a.a)(Object(a.a)({},e),{},{open:0!==t.length,focus:!1,children:t})},o.toArrayWithoutClose=function(e){return 0!==e.children.length&&e.open?[e].concat(e.children.map((function(e){return o.toArrayWithoutClose(e)})).reduce((function(e,t){return e.concat(t)}))):[e]},o._open=function(e,t,n){if(e.id===t)return Object(a.a)(Object(a.a)({},e),{},{open:n});var r=e.children.map((function(e){return o._open(e,t,n)}));return Object(a.a)(Object(a.a)({},e),{},{children:r})},o._changeDraft=function(e,t,n){if(e.id===t)return Object(a.a)(Object(a.a)({},e),{},{isDraft:n});var r=e.children.map((function(e){return o._changeDraft(e,t,n)}));return Object(a.a)(Object(a.a)({},e),{},{children:r})},o._drag=function(e,t,n){if(e.id===t)return Object(a.a)(Object(a.a)({},e),{},{isDragging:n});var r=e.children.map((function(e){return o._drag(e,t,n)}));return Object(a.a)(Object(a.a)({},e),{},{children:r})},o._getDragNode=function(e){return e.isDragging?e:0!==e.children.length?e.children.map((function(e){return o._getDragNode(e)})).reduce((function(e,t){return e||t||void 0})):void 0},o._dragEnd=function(e){var t=e.children.map((function(e){return o._dragEnd(e)}));return Object(a.a)(Object(a.a)({},e),{},{children:t,isDragging:!1})},o._focus=function(e,t){var n=e.children.map((function(e){return o._focus(e,t)}));return Object(a.a)(Object(a.a)({},e),{},{children:n,focus:e.id===t})},o._getFocusNode=function(e){return e.focus?e:0!==e.children.length?e.children.map((function(e){return o._getFocusNode(e)})).reduce((function(e,t){return e||t||void 0})):void 0},o._deleteFocus=function(e){if(!0===e.focus)return Object(a.a)(Object(a.a)({},e),{},{focus:!1});var t=e.children.map((function(e){return o._deleteFocus(e)}));return Object(a.a)(Object(a.a)({},e),{},{children:t})},o.addDetails=function(e,t){var n=i.a.getNewNode(t.type,c.f),a=i.a._unshift(e,n,t);return o._open(a,t.id,!0)},o.addNextBrother=function(e,t){var n=i.a._getPrent(e,t);if(null===n)throw new Error("cannot find a parent.");var a=i.a.getNewNode(n.type,c.f),r=o._deleteFocus(e);return{node:r=i.a._insert(r,a,t,!0),newNode:a}},o.addFromCommon=function(e,t,n,a){var r=i.a._get(n,a),c=i.a._push(e,r,t);return o._open(c,t.id,!0)}},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={empty:{task:"\u65b0\u3057\u3044\u4f5c\u696d",switch:"\u65b0\u3057\u3044\u5206\u5c90",case:"\u65b0\u3057\u3044\u6761\u4ef6"},placeholder:{task:"\u301c\u3092\u3059\u308b",switch:"\u301c\u3092\u78ba\u8a8d\u3059\u308b",case:"\u301c\u3067\u3042\u308b"}}},454:function(e,t,n){"use strict";(function(e){var a=n(56),r=n(109),c=n(113),i=n(111),o=n(0),l=n(184),u=n(310),s=n(26),d=n(71),m=n(90),f=n(697),p=n(154),h=n(311),b=n(314),g=n(313),O=n(473),E=n(312),v=n(5),j=n(9),y=n(20),x=n(455),w=n(249),k=n(42),S=n(84),C=n(700),I=n(701),N=n(35),T=n(702),_=function(t){Object(c.a)(l,t);var n=Object(i.a)(l);function l(t){var r;Object(a.a)(this,l),(r=n.call(this,t)).updateStream=function(){var e=r.state,t=e.node,n=e.stream,a=e.streamPointer;if("edit"===r.props.location.pathname.slice(-4)&&void 0===N.a._getDragNode(t)){var c=n[a];if(y.a._hasDifferenceWithAppearance(c,t)){var i=n.slice(0,a+1).concat([N.a._deleteFocus(t)]);console.log("stream.length: "+i.length),r.setState({stream:i,streamPointer:a+1})}}},r.updateStreamThrottle=Object(T.a)(r.updateStream,3e3),r.handleKeydown=function(e){var t=r.state,n=t.stream,a=t.streamPointer;(e.ctrlKey||e.metaKey)&&("z"!==e.key||e.shiftKey||0===a||r.undo(),("y"===e.key||"z"===e.key&&e.shiftKey)&&a!==n.length-1&&r.redo())},r.edit=function(e){var t=r.props,n=t.ks,a="edit"===t.location.pathname.slice(-4);r.setState({node:S.a.setCalcProps(e,n,a)}),0===r.state.streamPointer&&r.updateStream(),r.updateStreamThrottle()},r.undo=function(){var e=r.state,t=e.stream,n=e.streamPointer-1;r.setState({node:t[n],streamPointer:n})},r.redo=function(){var e=r.state,t=e.stream,n=e.streamPointer+1;r.setState({node:t[n],streamPointer:n})},r.save=function(){var t=r.props,n=t.manual,a=t.putTree,c=t.history,i=r.state.node,o=y.a._isAllSwitchHasCase(i)?null:"switch";if(r.setState({cannotSaveReason:o}),null===o){if(y.a._hasDifference(r.props.node,r.state.node))a({manualId:n.id,rootTree:i});r.setState({saved:!0}),e.nextTick((function(){return c.push("/manual/".concat(n.id,"/tree"))}))}},r.handleCancel=function(){var e=r.props,t=e.node,n=e.ks,a=e.location,c=e.history,i="edit"===a.pathname.slice(-4),o=S.a.setCalcProps(y.a._get(t,j.c),n,i);r.setState({node:o,stream:[o],streamPointer:0}),c.goBack()},r.handleShowVS=function(e){return function(){return r.setState({showVS:e})}};var c=t.node,i=t.ks,o="edit"===t.location.pathname.slice(-4),u=S.a.setCalcProps(y.a._get(c,j.c),i,o);return r.state={node:u,stream:[u],streamPointer:0,cannotSaveReason:null,showVS:!1,saved:!1},r}return Object(r.a)(l,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeydown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeydown)}},{key:"render",value:function(){var e=this,t=this.props,n=t.buttonRef,a=t.classes,r=t.location,c=this.state,i=c.node,l=c.cannotSaveReason,v=c.showVS,j=c.saved,S=c.stream,N=c.streamPointer,T="edit"===r.pathname.slice(-4),_={node:i,isEditing:T,edit:this.edit},A=y.a._hasDifference(this.props.node,this.state.node);return o.createElement("div",{className:a.root},T&&o.createElement(u.a,{container:n.current},o.createElement(s.a,{display:"flex",flexDirection:"row",mt:.7},o.createElement(d.a,{onClick:this.handleCancel},"\u30ad\u30e3\u30f3\u30bb\u30eb"),o.createElement(d.a,{color:"primary",onClick:this.save},"\u7de8\u96c6\u5b8c\u4e86"))),o.createElement(k.a,{when:A&&!j,message:"\u7de8\u96c6\u5185\u5bb9\u3092\u4fdd\u5b58\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u7de8\u96c6\u3092\u7d42\u4e86\u3057\u3066\u826f\u3044\u3067\u3059\u304b\uff1f"}),o.createElement(x.a,_),T&&o.createElement(m.a,{className:a.toolArea},o.createElement(f.a,{color:"primary"},o.createElement(d.a,{onClick:this.undo,disabled:0===N},o.createElement(C.a,null)),o.createElement(d.a,{onClick:this.redo,disabled:N===S.length-1},o.createElement(I.a,null)))),o.createElement(p.a,{open:v,onClose:this.handleShowVS(!1),BackdropProps:{className:a.viewSettingModal},disableAutoFocus:!0},o.createElement(w.a,null)),o.createElement(h.a,{open:null!==l,onClose:function(){return e.setState({cannotSaveReason:null})}},o.createElement(b.a,null,"\u3053\u306e\u30c7\u30fc\u30bf\u306f\u4fdd\u5b58\u3067\u304d\u307e\u305b\u3093"),o.createElement(g.a,null,o.createElement(O.a,null,"switch"===l&&"\u3059\u3079\u3066\u306e\u5206\u5c90\u306b\u306f\u3001\uff11\u3064\u4ee5\u4e0a\u306e\u6761\u4ef6\u3092\u8a2d\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002","case"===l&&"\u3059\u3079\u3066\u306e\u6761\u4ef6\u306b\u306f\u3001\uff11\u3064\u4ee5\u4e0a\u306e\u8a73\u7d30\u9805\u76ee\u3092\u8a2d\u5b9a\u3057\u3066\u4e0b\u3055\u3044\u3002")),o.createElement(E.a,null,o.createElement(d.a,{onClick:function(){return e.setState({cannotSaveReason:null})},color:"primary",autoFocus:!0},"OK"))))}}]),l}(o.Component);t.a=Object(k.h)(Object(v.a)((function(e){return Object(l.a)({root:{position:"relative"},toolArea:{position:"absolute",top:e.spacing(1),right:e.spacing(1)},convergent:{transform:"scale(1, -1)"},close:{padding:e.spacing(.5)},editFinishButton:{marginLeft:e.spacing(1)},viewSettingModal:{backgroundColor:"#0002"},viewSettingPaper:{position:"absolute",top:"75vh",left:"50vw",width:"90vw",maxHeight:"45vh",transform:"translate(-50%, -50%)",padding:e.spacing(2),outline:"none"}})}))(_))}).call(this,n(130))},455:function(e,t,n){"use strict";var a=n(2),r=n(21),c=n(456);t.a=Object(r.b)((function(e){return Object(a.a)(Object(a.a)({},e.ks),e.rs)}),(function(e){return{}}))(c.a)},456:function(e,t,n){"use strict";(function(e){var a=n(2),r=n(56),c=n(109),i=n(113),o=n(111),l=n(0),u=n(184),s=n(123),d=n(90),m=n(470),f=n(62),p=n(118),h=n(61),b=n(115),g=n(302),O=n(188),E=n(49),v=n(311),j=n(314),y=n(313),x=n(473),w=n(312),k=n(71),S=n(688),C=n(5),I=n(307),N=n.n(I),T=n(306),_=n.n(T),A=n(24),R=n(9),L=n(15),P=n(20),M=n(35),D=n(84),F=n(36),B=n(457),W=n(59),G=n(189),z=n(76),U=n(458),H=n(699),q=n(459),K=n(305),V=function(t){Object(i.a)(u,t);var n=Object(o.a)(u);function u(t){var c;Object(r.a)(this,u),(c=n.call(this,t)).mainRef=l.createRef(),c.stageRef=l.createRef(),c.labelRef=l.createRef(),c.actionMenuRef=l.createRef(),c.nextBrotherButtonRef=l.createRef(),c.kTree=void 0,c.rows=null,c.dropRow=0,c.addScrollEventListener=function(){var e=c.mainRef.current;if(null===e)throw new Error("Cannot find elements.");e.addEventListener("scroll",c.scroll)},c.resize=function(){var e=c.mainRef.current,t=c.stageRef.current;if(null===e||null===t)throw new Error("Cannot find elements.");t.width(e.offsetWidth-z.theme.spacing(2)),t.height(e.offsetHeight-z.theme.spacing(2)),t.draw(),c.setState({didRender:!0})},c.scroll=function(){var e=c.mainRef.current,t=c.stageRef.current;if(null===e||null===t)throw new Error("Cannot find elements.");var n=e.scrollLeft,a=e.scrollTop;t.container().style.transform="translate("+n+"px, "+a+"px)",t.x(-n),t.y(-a),t.draw()},c.scrollToNew=function(t){var n=c.mainRef.current,a=c.stageRef.current;if(null===n||null===a)throw new Error("Cannot find elements.");var r=c.props,i=r.isEditing,o=r.ks,l=r.edit,u=P.a._get(t.node,R.b);u=D.a.setCalcProps(u,o,i);var s=P.a._find(u,t.newNode.id);if(setTimeout((function(){l(M.a._focus(u,t.newNode.id)),c.setState({labelFocus:!0}),e.nextTick((function(){return c.labelRef.current.focus()}))}),300),n.scrollTop+n.offsetHeight<(s.point.y+o.rect.h)*o.unit){var d=(u.self.h+2*o.spr.h)*o.unit+40-n.offsetHeight,m=n.scrollLeft,f=Math.min((s.point.y+2*o.rect.h+o.margin.h)*o.unit-n.offsetHeight,d);a.to({x:-m,y:-f,duration:.5,onFinish:function(){n.scrollTop=f,a.container().style.transform="translate("+m+"px, "+f+"px)",l(M.a._focus(u,t.newNode.id))}})}},c.expand=function(t){var n=c.props,a=n.node;(0,n.edit)(M.a._open(a,t.id,!t.open)),e.nextTick((function(){return c.resize()}))},c.changeDraft=function(){var t=c.props,n=t.node,a=t.edit,r=M.a._getFocusNode(n);a(M.a._changeDraft(n,r.id,!r.isDraft)),e.nextTick((function(){return c.resize()}))},c.openInfo=function(e){c.setState({infoNode:e})},c.focus=function(t){var n=c.props,a=n.node,r=n.rs,i=n.edit,o=n.isEditing;if(!t.focus&&r.playOnClick){var l=new SpeechSynthesisUtterance;l.text=W.a.isEmpty(t.label)?Object(R.i)(t.type)?F.a.empty.task:Object(R.h)(t.type)?F.a.empty.switch:F.a.empty.case:t.label,l.lang="ja-JP",l.rate=r.rate,l.pitch=r.pitch,speechSynthesis.cancel(),speechSynthesis.speak(l)}t.focus&&o?0!==t.depth.top&&(c.setState({labelFocus:!0}),e.nextTick((function(){return c.labelRef.current.focus()}))):(i(M.a._focus(a,t.id)),c.setState({labelFocus:!1}),e.nextTick((function(){return c.resize()})))},c.deleteFocus=function(){var t=c.props,n=t.node;(0,t.edit)(M.a._deleteFocus(n)),c.setState({labelFocus:!1}),e.nextTick(c.resize)},c.dragStart=function(e){var t=c.props,n=t.node,a=t.edit,r=P.a._getPrent(n,e),i=M.a._open(n,e.id,!1);i=M.a._drag(i,e.id,!0),a(i=M.a._deleteFocus(i)),c.setState({dragParent:r,labelFocus:!1})},c.dragMove=function(t,n){var r=c.props,i=r.node,o=r.isEditing,l=r.ks,u=r.edit,s=c.state.dragParent,d=Math.round(n.x/l.unit+l.rect.w/2),m=Math.round(n.y/l.unit+l.rect.h/2),f=c.rows,p=D.a.setCalcProps(P.a._get(i,R.c),l,o);if(null!==f&&0<=d&&d<p.self.w){var h=f[m];if(void 0===h||h.node.id===t.id)return;var b=Object(a.a)(Object(a.a)({},t),{},{open:!1});if(Object(R.g)(t.type)){if("moveToBrother"===h.action&&void 0!==s.children.find((function(e){return e.id===h.node.id}))){var g=P.a.moveBrother(p,b,h.node);u(M.a._drag(g,t.id,!0)),e.nextTick(c.resize)}return}if("moveToBrother"===h.action&&!Object(R.g)(h.node.type)){var O=P.a.moveBrother(p,b,h.node);u(M.a._drag(O,t.id,!0)),e.nextTick(c.resize)}if("moveInOut"===h.action){var E=void 0===P.a._find(h.node,t.id);if(Object(R.i)(h.node.type)||E&&Object(R.g)(h.node.type)||!E&&Object(R.h)(h.node.type)){var v=P.a.moveInOut(p,b,h.node);u(M.a._drag(v,t.id,!0))}e.nextTick(c.resize)}}},c.getCurrentTree=function(){return c.kTree},c.dragEnd=function(){var e=c.props,t=e.node;(0,e.edit)(M.a._dragEnd(t)),c.setState({dragParent:null})},c.changeFocusNode=function(e){var t=c.props,n=t.node,a=t.edit,r=c.state.infoNode;a(P.a._replace(n,e)),null!==r&&c.setState({infoNode:e})},c.changeType=function(e){var t=c.props.node;c.setState({typeAnchorEl:null});var n=M.a._getFocusNode(t);if(n.type!==e){if(0===n.children.length){var r=Object(a.a)(Object(a.a)({},n),{},{type:e});c.changeFocusNode(r)}if(Object(R.i)(e)){var i=n.children.map((function(e){return e.children})).reduce((function(e,t){return e.concat(t)})),o=Object(a.a)(Object(a.a)({},n),{},{type:e,children:i,open:!0});c.changeFocusNode(o)}else{var l=P.a.getNewNode(R.a.switch,R.c),u=[Object(a.a)(Object(a.a)({},l),{},{open:!0,children:0===n.children.length?[Object(a.a)(Object(a.a)({},R.c),{},{id:"rand:"+String(Math.random()).slice(2)})]:n.children})],s=Object(a.a)(Object(a.a)({},n),{},{type:e,children:u,open:!0});c.changeFocusNode(s)}}},c.addDetails=function(){var t=c.props,n=t.node,a=t.edit,r=M.a._getFocusNode(n);a(M.a.addDetails(n,r)),e.nextTick(c.resize)},c.addNextBrother=function(){var t=c.props,n=t.node,a=t.edit,r=M.a._getFocusNode(n),i=M.a.addNextBrother(n,r);a(i.node),e.nextTick((function(){c.resize(),c.scrollToNew(i)}))},c.deleteSelf=function(){var t=c.props,n=t.node,a=t.edit,r=M.a._getFocusNode(n);a(P.a._deleteById(n,r.id)),c.setState({deleteFlag:!1}),e.nextTick(c.resize)};var i=u.getInitialState();c.state=i;var o=P.a._get(t.node,R.b);return c.kTree=D.a.setCalcProps(o,t.ks,t.isEditing),c}return Object(c.a)(u,[{key:"componentDidMount",value:function(){var t=this;e.nextTick((function(){t.resize(),t.addScrollEventListener(),t.setState({didRender:!0})})),window.addEventListener("resize",this.resize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize);var e=this.mainRef.current;if(null===e)throw new Error("Cannot find elements.");e.removeEventListener("scroll",this.scroll)}},{key:"render",value:function(){var t=this,n=this.props,r=n.node,c=n.isEditing,i=n.ks,o=n.classes,u=this.state,C=u.labelFocus,I=u.typeAnchorEl,T=u.infoNode,W=u.deleteFlag,V=u.dragParent,Y=G.a.setArrow(P.a._get(r,R.c),i);this.kTree=Y;var J=M.a.toArrayWithoutClose(Y),Q=D.a.makeDragMap(J,i);this.rows=Q;var Z=this.stageRef.current,X={isEditing:c,ks:i,focus:this.focus,expand:this.expand,dragStart:this.dragStart,dragMove:this.dragMove,getCurrentTree:this.getCurrentTree,dragEnd:this.dragEnd,openInfo:this.openInfo,deleteFocus:this.deleteFocus,stageRef:this.stageRef},$=void 0,ee=void 0,te=void 0,ne=void 0,ae=M.a._getFocusNode(Y);if(ae){if(!C&&null===I){var re=0===ae.depth.top,ce=this.actionMenuRef.current,ie={position:"absolute",left:(ae.point.x+i.rect.w)*i.unit-6-(null!==ce?ce.offsetWidth:0),top:(ae.point.y+i.rect.h)*i.unit-4,backgroundColor:z.theme.palette.grey[800]};$=l.createElement(S.a,{theme:Object(s.a)({palette:{type:"dark"}})},l.createElement(d.a,{ref:this.actionMenuRef,style:ie},l.createElement(m.a,null,l.createElement(f.a,{onClick:function(){return t.openInfo(ae)}},l.createElement(p.a,null,l.createElement(H.a,null)),l.createElement(h.a,{color:"textPrimary"},"\u8a73\u7d30\u8868\u793a")),(c||0!==ae.children.length)&&0!==ae.depth.top&&l.createElement(f.a,{onClick:function(){return t.expand(ae)}},l.createElement(p.a,null,ae.open?l.createElement(L.g,null):l.createElement(L.h,null)),l.createElement(h.a,{color:"textPrimary"},ae.open?"\u8a73\u7d30\u9805\u76ee\u3092\u9589\u3058\u308b":"\u8a73\u7d30\u9805\u76ee\u3092\u958b\u304f")),c&&l.createElement(l.Fragment,null,!re&&l.createElement(f.a,{ref:this.nextBrotherButtonRef,onClick:this.addNextBrother},l.createElement(p.a,null,l.createElement(l.Fragment,null,l.createElement(_.a,{style:{transform:"rotate(90deg)"}}),l.createElement(N.a,null))),l.createElement(h.a,{color:"textPrimary"},"\u6b21\u306e\u9805\u76ee\u3092\u8ffd\u52a0")),l.createElement(f.a,{onClick:this.addDetails},l.createElement(p.a,null,l.createElement(l.Fragment,null,l.createElement(_.a,null),l.createElement(N.a,null))),l.createElement(h.a,{color:"textPrimary"},"\u8a73\u7d30\u9805\u76ee\u3092\u8ffd\u52a0")),!1,!re&&l.createElement(f.a,{onClick:function(){return t.setState({deleteFlag:!0})}},l.createElement(p.a,null,l.createElement(L.c,null)),l.createElement(h.a,{color:"textPrimary"},"\u524a\u9664"))))))}if(!C&&null===I&&0!==ae.imageBlob.length){var oe={position:"absolute",left:(ae.point.x+i.rect.w)*i.unit,top:ae.point.y*i.unit,width:"400px",height:"400px"};ee=l.createElement("div",{style:oe},l.createElement("img",{src:ae.imageBlob,className:o.img,alt:ae.imageName}))}if(0!==ae.depth.top&&c){var le={position:"absolute",left:(ae.point.x+i.rect.h/2)*i.unit,top:(ae.point.y+i.rect.h/2)*i.unit,transform:"translate(-50%, -50%) scale(".concat(i.unit/24,")"),color:"#000"};te=l.createElement("div",null,l.createElement(b.a,{style:le,onClick:function(e){return t.setState({typeAnchorEl:e.currentTarget})},disableRipple:!0,disabled:0===ae.depth.top},Object(R.i)(ae.type)?l.createElement(L.o,null):Object(R.h)(ae.type)?l.createElement(L.n,{style:{transform:"scale(1, -1)"}}):l.createElement(L.a,null)),l.createElement(g.a,{anchorEl:I,open:Boolean(I),onClose:function(){t.deleteFocus(),t.setState({typeAnchorEl:null})}},!Object(R.g)(ae.type)&&l.createElement(f.a,{onClick:function(){return t.changeType(R.a.task)}},l.createElement(p.a,null,l.createElement(L.o,null)),l.createElement(O.a,{inset:!0,primary:"\u4f5c\u696d"})),!Object(R.g)(ae.type)&&l.createElement(f.a,{onClick:function(){return t.changeType(R.a.switch)}},l.createElement(p.a,null,l.createElement(L.n,{style:{transform:"scale(1, -1)"}})),l.createElement(O.a,{inset:!0,primary:"\u5206\u5c90"})),Object(R.g)(ae.type)&&l.createElement(f.a,{onClick:function(){return t.changeType(R.a.case)}},l.createElement(p.a,null,l.createElement(L.a,null)),l.createElement(O.a,{inset:!0,primary:"\u6761\u4ef6"}))))}!function(){var n={position:"absolute",left:(ae.point.x+i.rect.h+i.spr.w/2)*i.unit,top:(ae.point.y+i.rect.h/2)*i.unit,width:(i.rect.w-(3*i.rect.h+i.spr.w))*i.unit,transform:"translateY(-50%)",display:C?void 0:"none"},r={fontSize:18.2/20*i.unit};ne=l.createElement(E.a,{inputRef:t.labelRef,style:n,variant:"standard",InputProps:{style:r},placeholder:Object(R.i)(ae.type)?F.a.placeholder.task:Object(R.h)(ae.type)?F.a.placeholder.switch:F.a.placeholder.case,InputLabelProps:{shrink:!0},value:ae.label,onChange:function(e){return t.changeFocusNode(Object(a.a)(Object(a.a)({},ae),{},{label:e.target.value}))},onKeyDown:function(n){13===n.keyCode&&(t.labelRef.current.blur(),t.setState({labelFocus:!1}),e.nextTick((function(){return t.nextBrotherButtonRef.current.focus()})))}})}()}var ue=this.mainRef.current,se=null!==ue?{position:"relative",overflow:"hidden",width:Math.max((Y.self.w+2*i.spr.w)*i.unit,ue.offsetWidth),height:Math.max((Y.self.h+2*i.spr.h)*i.unit+40,ue.offsetHeight)}:void 0,de={node:T,isEditing:c,changeNode:this.changeFocusNode};return l.createElement("div",{className:o.main,ref:this.mainRef},l.createElement("div",{style:se},l.createElement(A.Stage,{ref:this.stageRef,onClick:this.deleteFocus},l.createElement(A.Layer,null,null!==Z&&J.filter((function(e){return c||!e.isDraft})).map((function(e){return 0===e.depth.top?l.createElement(K.a,Object.assign({key:e.id,node:e,nowDragging:null!==V},X)):l.createElement(U.a,Object.assign({key:e.id+"shadow",node:e,labelFocus:C},X))})),null!==Z&&J.filter((function(e){return c?null===V||e.isDragging:!e.isDraft})).map((function(e){return 0===e.depth.top?l.createElement(K.a,Object.assign({key:e.id,node:e,nowDragging:null!==V},X)):l.createElement(B.a,Object.assign({key:e.id,node:e,labelFocus:C},X))})))),$,ee,ne,te),l.createElement(v.a,{open:W,onClose:function(){return t.setState({deleteFlag:!1})}},l.createElement(j.a,null,"\u3053\u306e\u9805\u76ee\u3092\u524a\u9664\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f"),void 0!==ae&&0!==ae.children.length&&l.createElement(y.a,null,l.createElement(x.a,null,"\u3053\u306e\u9805\u76ee\u306b\u306f\u8a73\u7d30\u9805\u76ee\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u524a\u9664\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f")),l.createElement(w.a,null,l.createElement(k.a,{onClick:function(){return t.setState({deleteFlag:!1})}},"\u30ad\u30e3\u30f3\u30bb\u30eb"),l.createElement(k.a,{onClick:this.deleteSelf,color:"primary",autoFocus:!0},"\u524a\u9664"))),l.createElement(v.a,{open:null!==T,onClose:function(){return t.setState({infoNode:null})},maxWidth:"sm",fullWidth:!0},null!==T&&l.createElement(l.Fragment,null,l.createElement(j.a,null,T.label),l.createElement(y.a,null,l.createElement(q.a,de)),l.createElement(w.a,null,l.createElement(k.a,{color:"primary",onClick:function(){return t.setState({infoNode:null})}},"OK")))))}}]),u}(l.Component);V.getInitialState=function(){return{didRender:!1,dragParent:null,labelFocus:!1,infoNode:null,typeAnchorEl:null,deleteFlag:!1,hasDifference:!1}},t.a=Object(C.a)((function(e){return Object(u.a)({main:{overflow:"scroll",height:"calc(100vh - ".concat(z.toolbarHeight+96+e.spacing(2),"px)"),[e.breakpoints.down("xs")]:{height:"calc(100vh - ".concat(z.toolbarHeight+96+e.spacing(4),"px)")}},toolbar:e.mixins.toolbar,saveButton:{minWidth:100},extendedIcon:{marginLeft:e.spacing(1)},viewSettingModal:{backgroundColor:"#0002"},img:{width:"100%",height:400,objectFit:"contain",verticalAlign:"bottom"}})}))(V)}).call(this,n(130))},457:function(e,t,n){"use strict";var a=n(2),r=n(0),c=n.n(r),i=n(79),o=n(244),l=n(246),u=n(245),s=n(97),d=n.n(s),m=n(24),f=n(78),p=n(9),h=n(59),b=n(36),g=n(110),O=n(149),E=n(77),v=n(20),j=n(150),y=Object(r.memo)((function(e){var t=e.node,n=e.ks,s=e.stageRef,y=Object(r.useRef)(null),x=Object(r.useRef)(null),w=Object(r.useRef)(null),k=function(n){n.cancelBubble=!0,e.focus(t)},S=function(){e.isEditing&&(w.current.to({strokeWidth:0,shadowColor:"black",shadowBlur:10,shadowOffsetY:6,shadowOpacity:.3,duration:.1}),x.current.to({scaleX:1.1,scaleY:1.1,x:-t.rect.w*n.unit*.05,duration:.1}),s.current.container().style.cursor="grabbing",e.dragStart(t))},C=function(r){if(e.isEditing){var c=r.target.position();r.target.x(-t.rect.w*n.unit*.05+c.x),r.target.y(-t.rect.h*n.unit*.05+c.y),e.dragMove(Object(a.a)(Object(a.a)({},t),{},{focus:!1}),{x:t.point.x*n.unit+c.x,y:t.point.y*n.unit+c.y})}},I=function(){if(e.isEditing){s.current.container().style.cursor="default",x.current.to({x:0,y:0,scaleX:1,scaleY:1,easing:d.a.Easings.EaseInOut,onFinish:e.dragEnd});var a=e.getCurrentTree(),r=v.a._find(a,t.id);y.current.to({x:r.point.x*n.unit,y:r.point.y*n.unit,easing:d.a.Easings.EaseInOut})}},N=t.isDraft?i.a[50]:Object(p.i)(t.type)?o.a[50]:Object(p.h)(t.type)?l.a[100]:u.a[100],T={x:0,y:0,width:t.rect.w*n.unit,height:t.rect.h*n.unit,cornerRadius:4,fill:N,onMouseEnter:function(t){if(t.cancelBubble=!0,e.isEditing){var n=s.current;null!==n&&(n.container().style.cursor="grab")}},onMouseLeave:function(t){if(t.cancelBubble=!0,e.isEditing){var n=s.current;null!==n&&(n.container().style.cursor="default")}}},_=t.focus?Object(a.a)(Object(a.a)({},T),{},{stroke:"#80bdff",shadowColor:"#80bdff",strokeWidth:6,shadowBlur:6,shadowOffsetY:0,shadowOpacity:1}):T,A={text:h.a.isEmpty(t.label)?Object(p.i)(t.type)?b.a.empty.task:Object(p.h)(t.type)?b.a.empty.switch:b.a.empty.case:t.label,fontSize:n.fontSize*n.unit,x:(n.rect.h+n.fontSize/2)*n.unit,y:(n.rect.h-n.fontHeight)/2*n.unit,onMouseEnter:function(n){if(n.cancelBubble=!0,e.isEditing){var a=s.current;if(null!==a){var r=t.focus;a.container().style.cursor=r?"text":"grab"}}},onMouseLeave:function(t){if(t.cancelBubble=!0,e.isEditing){var n=s.current;null!==n&&(n.container().style.cursor="default")}}},R={ks:n,x:0,y:0,svg:Object(p.i)(t.type)?f.c:Object(p.h)(t.type)?f.b:O.a,scale:Object(p.h)(t.type)?{x:1,y:-1}:void 0},L={x:0,y:0,ref:x,onClick:k,onTap:k,draggable:e.isEditing,onDragStart:S,onTouchStart:S,onDragMove:C,onTouchMove:C,onDragEnd:I,onTouchEnd:I},P=y.current,M=x.current,D=null!==P&&null!==M&&0!==P.x()&&!M.isDragging();D&&P.to({x:t.point.x*n.unit,y:t.point.y*n.unit,easing:d.a.Easings.EaseInOut});var F=D?void 0:t.point.x*n.unit,B=D?void 0:t.point.y*n.unit,W={ks:n,x:(n.rect.w-n.rect.h)*n.unit,y:0,svg:j.a,badgeContent:t.children.length,onClick:k,onTap:k,onMouseEnter:function(e){e.cancelBubble=!0;var t=s.current;null!==t&&(t.container().style.cursor="pointer")},onMouseLeave:function(e){e.cancelBubble=!0;var t=s.current;null!==t&&(t.container().style.cursor="default")}};return c.a.createElement(m.Group,{ref:y,x:F,y:B},c.a.createElement(m.Group,L,c.a.createElement(m.Rect,Object.assign({ref:w},_)),c.a.createElement(E.a,R),!(t.focus&&e.labelFocus)&&c.a.createElement(m.Text,A),c.a.createElement(g.a,W)))}),(function(e,t){return!e.node.isDragging&&t.node.isDragging}));t.a=y},458:function(e,t,n){"use strict";var a=n(56),r=n(109),c=n(113),i=n(111),o=n(0),l=n(79),u=n(244),s=n(246),d=n(245),m=n(97),f=n.n(m),p=n(24),h=n(78),b=n(9),g=n(76),O=n(59),E=n(36),v=n(110),j=n(149),y=n(77),x=n(150),w=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).groupRef=o.createRef(),e.handleDeleteFocus=function(t){t.cancelBubble=!0,e.props.deleteFocus()},e}return Object(r.a)(n,[{key:"componentWillUnmount",value:function(){this.groupRef.current.destroy()}},{key:"render",value:function(){var e=this.props,t=e.node,n=e.ks,a=e.labelFocus,r=t.isDraft?l.a[50]:Object(b.i)(t.type)?u.a[50]:Object(b.h)(t.type)?s.a[100]:d.a[100],c={x:0,y:0,width:t.rect.w*n.unit,height:t.rect.h*n.unit,cornerRadius:4,fill:r,stroke:t.focus?"#80bdff":"#0000",strokeWidth:6,shadowColor:t.focus?"#80bdff":"black",shadowBlur:6,shadowOffsetY:t.focus?0:3,shadowOpacity:t.focus?1:.2},i={text:O.a.isEmpty(t.label)?Object(b.i)(t.type)?E.a.empty.task:Object(b.h)(t.type)?E.a.empty.switch:E.a.empty.case:t.label,fontSize:n.fontSize*n.unit,x:(n.rect.h+n.fontSize/2)*n.unit,y:(n.rect.h-n.fontHeight)/2*n.unit},m={ks:n,x:0,y:0,svg:Object(b.i)(t.type)?h.c:Object(b.h)(t.type)?h.b:j.a,scale:Object(b.h)(t.type)?{x:1,y:-1}:void 0},w=this.groupRef.current,k=null!==w&&0!==w.x();k&&w.to({x:t.point.x*n.unit,y:t.point.y*n.unit,easing:f.a.Easings.EaseInOut});var S={x:k?void 0:t.point.x*n.unit,y:k?void 0:t.point.y*n.unit},C={x:(n.indent/2-n.spr.w)*n.unit,y:n.spr.h*n.unit,width:(t.self.w-(n.indent/2-n.spr.w))*n.unit,height:(t.self.h-n.spr.h)*n.unit,cornerRadius:n.cornerRadius*n.unit,stroke:l.a[500],fill:"#00000009",strokeWidth:n.hasArrow?0:1,onClick:this.handleDeleteFocus},I={stroke:l.a[700],fill:l.a[700],pointerLength:n.pointerLength*n.unit,pointerWidth:n.pointerWidth*n.unit},N={ks:n,x:-n.rect.h*n.unit,y:0,svg:h.a,color:g.theme.palette.secondary.main},T={ks:n,x:(n.rect.w-n.rect.h)*n.unit,y:0,svg:x.a,badgeContent:t.children.length};return o.createElement(p.Group,Object.assign({ref:this.groupRef},S),!t.isDragging&&o.createElement(o.Fragment,null,t.open&&o.createElement(p.Rect,C),o.createElement(p.Rect,c),o.createElement(y.a,m),!(t.focus&&a)&&o.createElement(p.Text,i),o.createElement(v.a,T),n.hasArrow&&t.arrows.map((function(e,a){var r=e.map((function(e){return[e.x,e.y]})).reduce((function(e,t){return e.concat(t)})).map((function(e){return e*n.unit}));return o.createElement(p.Arrow,Object.assign({key:"".concat(t.id,"-arrow-").concat(a)},I,{points:r}))})),0===t.arrows.length&&0!==t.depth.top&&o.createElement(y.a,N)))}}]),n}(o.Component);t.a=w},459:function(e,t,n){"use strict";(function(e){var a=n(2),r=n(11),c=n(0),i=n(19),o=n.n(i),l=n(102),u=n.n(l),s=n(63),d=n(26),m=n(49),f=n(62),p=n(115),h=n(90),b=n(250),g=n(71),O=n(15),E=n(9),v=n(36),j=n(190),y=Object(j.a)((function(e){return{root:{position:"relative",marginTop:e.spacing(2),width:"100%"},select:{marginRight:e.spacing(1)},selectType:{marginRight:e.spacing(1)},switchIcon:{transform:"scale(1, -1)"},title:{fontSize:40},imageButton:{paddingTop:e.spacing(1.8),paddingBottom:e.spacing(1.8)},imageIcon:{marginRight:e.spacing(1)},imageFormContainer:{marginTop:-e.spacing(2),marginBottom:-e.spacing(1),width:"100%",paddingLeft:68},imageContainer:{position:"relative"},img:{width:"100%",height:400,objectFit:"contain",verticalAlign:"bottom"},deleteButton:{position:"absolute",top:-e.spacing(2),right:-e.spacing(2)}}}));t.a=function(t){var n,i,l=t.node,j=t.changeNode,x=t.isEditing,w=Object(c.useState)(x),k=Object(r.a)(w,2),S=k[0],C=k[1];var I=Object(c.useRef)(null),N=Object(c.useState)(0),T=Object(r.a)(N,2)[1],_=Object(c.useRef)(null),A=Object(c.useState)(0),R=Object(r.a)(A,2)[1];null!==l&&e.nextTick((function(){var e=o.a.findDOMNode(I.current);null!==e&&T(e.offsetWidth);var t=o.a.findDOMNode(_.current);null!==t&&R(t.offsetWidth)}));var L=function(){var e=n.result;j(Object(a.a)(Object(a.a)({},l),{},{imageName:i,imageBlob:e})),i=""},P=y(),M=c.createElement(s.a,{position:"start"},c.createElement(O.f,null)),D=c.createElement(s.a,{position:"start"},c.createElement(O.j,null)),F=c.createElement(s.a,{position:"start"},c.createElement(O.l,null)),B=c.createElement(s.a,{position:"start"},c.createElement(O.k,null)),W=c.createElement(s.a,{position:"start"},c.createElement(O.p,null)),G=c.createElement(s.a,{position:"start"},c.createElement(O.m,null)),z=c.createElement(s.a,{position:"start"},c.createElement(O.i,null)),U=c.createElement(s.a,{position:"start"},c.createElement(O.d,null)),H=c.createElement(d.a,{mt:1.5},c.createElement(m.a,{label:"\u30a4\u30f3\u30d7\u30c3\u30c8",value:l.input,onChange:function(e){return j(Object(a.a)(Object(a.a)({},l),{},{input:e.target.value}))},InputProps:{startAdornment:M},fullWidth:!0,multiline:!0,disabled:!x})),q=c.createElement(d.a,{mt:1.5},c.createElement(m.a,{label:"\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8",value:l.output,onChange:function(e){return j(Object(a.a)(Object(a.a)({},l),{},{output:e.target.value}))},InputProps:{startAdornment:D},fullWidth:!0,disabled:!x})),K=c.createElement(d.a,{mt:1.5},c.createElement(m.a,{label:"\u4e8b\u524d\u6761\u4ef6",value:l.preConditions,onChange:function(e){return j(Object(a.a)(Object(a.a)({},l),{},{preConditions:e.target.value}))},InputProps:{startAdornment:F},fullWidth:!0,multiline:!0,disabled:!x})),V=c.createElement(d.a,{mt:1.5},c.createElement(m.a,{label:"\u4e8b\u5f8c\u6761\u4ef6",value:l.postConditions,onChange:function(e){return j(Object(a.a)(Object(a.a)({},l),{},{postConditions:e.target.value}))},InputProps:{startAdornment:B},fullWidth:!0,disabled:!x})),Y=c.createElement(d.a,{mt:1.5},c.createElement(m.a,{label:"\u62c5\u5f53\u8005",value:l.workerInCharge,onChange:function(e){return j(Object(a.a)(Object(a.a)({},l),{},{workerInCharge:e.target.value}))},InputProps:{startAdornment:W},fullWidth:!0,multiline:!0,disabled:!x})),J=c.createElement(d.a,{mt:1.5},c.createElement(m.a,{label:"\u5099\u8003",value:l.remarks,onChange:function(e){return j(Object(a.a)(Object(a.a)({},l),{},{remarks:e.target.value}))},InputProps:{startAdornment:G},fullWidth:!0,disabled:!x})),Q=c.createElement(d.a,{mt:1.5},c.createElement(m.a,{label:"\u5fc5\u8981\u30b7\u30b9\u30c6\u30e0\u30fb\u30c4\u30fc\u30eb",value:l.necessaryTools,onChange:function(e){return j(Object(a.a)(Object(a.a)({},l),{},{necessaryTools:e.target.value}))},InputProps:{startAdornment:z},fullWidth:!0,multiline:!0,disabled:!x})),Z=c.createElement(d.a,{mt:1.5},c.createElement(m.a,{label:"\u4f8b\u5916",value:l.exceptions,onChange:function(e){return j(Object(a.a)(Object(a.a)({},l),{},{exceptions:e.target.value}))},InputProps:{startAdornment:U},fullWidth:!0,disabled:!x}));return c.createElement(d.a,null,0!==l.depth.top&&c.createElement(d.a,{display:"flex",flexDirection:"row"},c.createElement(m.a,{select:!0,variant:"outlined",label:"\u30bf\u30a4\u30d7",value:l.type,InputProps:{startAdornment:Object(E.i)(l.type)?c.createElement(O.o,{className:P.selectType}):Object(E.h)(l.type)?c.createElement(O.n,{className:P.selectType}):c.createElement(O.a,{className:u()(P.selectType,P.switchIcon)})},disabled:!0},c.createElement(f.a,{value:"0"},"\u4f5c\u696d"),c.createElement(f.a,{value:"1"},"\u5206\u5c90"),c.createElement(f.a,{value:"2"},"\u6761\u4ef6")),c.createElement(d.a,{flexGrow:1}),c.createElement(d.a,null,c.createElement(p.a,{onClick:function(){C(!S)}},S?c.createElement(O.g,null):c.createElement(O.h,null)))),c.createElement(d.a,{mt:1.5},c.createElement(m.a,{placeholder:Object(E.i)(l.type)?v.a.placeholder.task:Object(E.h)(l.type)?v.a.placeholder.switch:v.a.placeholder.case,value:l.label,onChange:function(e){return j(Object(a.a)(Object(a.a)({},l),{},{label:e.target.value}))},fullWidth:!0,disabled:!x})),0!==l.imageBlob.length&&c.createElement(d.a,{mt:1.5,justifyContent:"center"},c.createElement(h.a,{className:P.imageContainer},c.createElement("img",{src:l.imageBlob,className:P.img,alt:l.imageName}),x&&c.createElement(p.a,{className:P.deleteButton,onClick:function(e){return function(){j(Object(a.a)(Object(a.a)({},e),{},{imageName:"",imageBlob:""}))}}(l)},c.createElement(O.b,null)))),c.createElement(b.a,{in:!S},0!==l.input.length&&H,0!==l.output.length&&q,0!==l.preConditions.length&&K,0!==l.postConditions.length&&V,0!==l.workerInCharge.length&&Y,0!==l.remarks.length&&J,0!==l.necessaryTools.length&&Q,0!==l.exceptions.length&&Z),c.createElement(b.a,{in:S},x&&0===l.imageBlob.length&&c.createElement(d.a,{mt:1.5},c.createElement(g.a,{component:"label",variant:"outlined",className:P.imageButton,fullWidth:!0},c.createElement(O.e,{className:P.imageIcon}),0!==l.imageName.length?l.imageName:"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e",c.createElement("form",null,c.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){var t=e.target.files[0];if(void 0!==t){(n=new FileReader).onload=L,n.readAsDataURL(t);var a=String(e.target.value).split("\\");i=a[a.length-1],e.target.value=""}}})))),H,q,K,V,Y,J,Q,Z))}}).call(this,n(130))},461:function(e,t,n){"use strict";(function(e){var a=n(56),r=n(109),c=n(113),i=n(111),o=n(0),l=n(184),u=n(310),s=n(26),d=n(71),m=n(5),f=n(20),p=n(462),h=n(42),b=function(t){Object(c.a)(l,t);var n=Object(i.a)(l);function l(t){var r;return Object(a.a)(this,l),(r=n.call(this,t)).save=function(){var t=r.props,n=t.manual,a=t.putTree,c=t.history,i=r.state.node;f.a._hasDifference(r.props.node,r.state.node)&&a({manualId:n.id,rootTree:i});r.setState({saved:!0}),e.nextTick((function(){return c.push("/manual/".concat(n.id,"/text"))}))},r.changeNode=function(e){var t=r.state.node;r.setState({node:f.a._replace(t,e)})},r.deleteSelf=function(e){var t=r.state.node;r.setState({node:f.a._deleteById(t,e.id)})},r.state={node:t.node,saved:!1},r}return Object(r.a)(l,[{key:"render",value:function(){var e=this.props,t=e.buttonRef,n=e.classes,a="edit"===e.location.pathname.slice(-4),r=this.state,c=r.node,i=r.saved,l={itemNumber:c.label,node:c,isEditing:a,showChildren:!0,changeNode:this.changeNode},m=f.a._hasDifference(this.props.node,this.state.node);return o.createElement("div",{className:n.root},a&&o.createElement(o.Fragment,null,o.createElement(u.a,{container:t.current},o.createElement(s.a,{mt:.7},o.createElement(d.a,{color:"primary",onClick:this.save},"\u7de8\u96c6\u5b8c\u4e86"))),o.createElement(h.a,{when:m&&!i,message:"\u7de8\u96c6\u5185\u5bb9\u3092\u4fdd\u5b58\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u7de8\u96c6\u3092\u7d42\u4e86\u3057\u3066\u826f\u3044\u3067\u3059\u304b\uff1f"})),o.createElement(p.a,l))}}]),l}(o.Component);t.a=Object(h.h)(Object(m.a)((function(e){return Object(l.a)({root:{width:"100%",padding:e.spacing(2)},saveButton:{minWidth:100},extendedIcon:{marginLeft:e.spacing(1)},close:{padding:e.spacing(.5)},viewSettingModal:{backgroundColor:"#0002"},viewSettingPaper:{position:"absolute",top:"75vh",left:"50vw",width:"90vw",maxHeight:"45vh",transform:"translate(-50%, -50%)",padding:e.spacing(2),outline:"none"}})}))(b))}).call(this,n(130))},462:function(e,t,n){"use strict";(function(e){var a=n(2),r=n(11),c=n(0),i=n(19),o=n.n(i),l=n(102),u=n.n(l),s=n(63),d=n(26),m=n(49),f=n(239),p=n(248),h=n(62),b=n(61),g=n(115),O=n(90),E=n(250),v=n(71),j=n(15),y=n(9),x=n(36),w=n(190),k=Object(w.a)((function(e){return{root:{position:"relative",marginTop:e.spacing(2),width:"100%"},select:{marginRight:e.spacing(1)},selectType:{marginRight:e.spacing(1)},switchIcon:{transform:"scale(1, -1)"},title:{fontSize:40},imageButton:{paddingTop:e.spacing(1.8),paddingBottom:e.spacing(1.8)},imageIcon:{marginRight:e.spacing(1)},imageFormContainer:{marginTop:-e.spacing(2),marginBottom:-e.spacing(1),width:"100%",paddingLeft:68},imageContainer:{position:"relative"},img:{width:"100%",height:400,objectFit:"contain",verticalAlign:"bottom"},deleteButton:{position:"absolute",top:-e.spacing(2),right:-e.spacing(2)}}}));t.a=function t(n){var i,l,w=n.itemNumber,S=n.node,C=n.changeNode,I=n.isEditing,N=n.showChildren,T=Object(c.useState)(I),_=Object(r.a)(T,2),A=_[0],R=_[1];var L=Object(c.useRef)(null),P=Object(c.useState)(0),M=Object(r.a)(P,2)[1],D=Object(c.useRef)(null),F=Object(c.useState)(0),B=Object(r.a)(F,2)[1];null!==S&&e.nextTick((function(){var e=o.a.findDOMNode(L.current);null!==e&&M(e.offsetWidth);var t=o.a.findDOMNode(D.current);null!==t&&B(t.offsetWidth)}));var W=function(){var e=i.result;C(Object(a.a)(Object(a.a)({},S),{},{imageName:l,imageBlob:e})),l=""},G=k(),z=c.createElement(s.a,{position:"start"},c.createElement(j.f,null)),U=c.createElement(s.a,{position:"start"},c.createElement(j.j,null)),H=c.createElement(s.a,{position:"start"},c.createElement(j.l,null)),q=c.createElement(s.a,{position:"start"},c.createElement(j.k,null)),K=c.createElement(s.a,{position:"start"},c.createElement(j.p,null)),V=c.createElement(s.a,{position:"start"},c.createElement(j.m,null)),Y=c.createElement(s.a,{position:"start"},c.createElement(j.i,null)),J=c.createElement(s.a,{position:"start"},c.createElement(j.d,null)),Q=null===S?y.a.task:S.type,Z=c.createElement(d.a,{mt:1,pl:10,pr:2},c.createElement(m.a,{placeholder:"\u30a4\u30f3\u30d7\u30c3\u30c8",value:S.input,onChange:function(e){return C(Object(a.a)(Object(a.a)({},S),{},{input:e.target.value}))},InputProps:{startAdornment:z},fullWidth:!0,multiline:!0,disabled:!I})),X=c.createElement(d.a,{mt:1,pl:10,pr:2},c.createElement(m.a,{placeholder:"\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8",value:S.output,onChange:function(e){return C(Object(a.a)(Object(a.a)({},S),{},{output:e.target.value}))},InputProps:{startAdornment:U},fullWidth:!0,disabled:!I})),$=c.createElement(d.a,{mt:1,pl:10,pr:2},c.createElement(m.a,{placeholder:"\u4e8b\u524d\u6761\u4ef6",value:S.preConditions,onChange:function(e){return C(Object(a.a)(Object(a.a)({},S),{},{preConditions:e.target.value}))},InputProps:{startAdornment:H},fullWidth:!0,multiline:!0,disabled:!I})),ee=c.createElement(d.a,{mt:1,pl:10,pr:2},c.createElement(m.a,{placeholder:"\u4e8b\u5f8c\u6761\u4ef6",value:S.postConditions,onChange:function(e){return C(Object(a.a)(Object(a.a)({},S),{},{postConditions:e.target.value}))},InputProps:{startAdornment:q},fullWidth:!0,disabled:!I})),te=c.createElement(d.a,{mt:1,pl:10,pr:2},c.createElement(m.a,{placeholder:"\u62c5\u5f53\u8005",value:S.workerInCharge,onChange:function(e){return C(Object(a.a)(Object(a.a)({},S),{},{workerInCharge:e.target.value}))},InputProps:{startAdornment:K},fullWidth:!0,multiline:!0,disabled:!I})),ne=c.createElement(d.a,{mt:1,pl:10,pr:2},c.createElement(m.a,{placeholder:"\u5099\u8003",value:S.remarks,onChange:function(e){return C(Object(a.a)(Object(a.a)({},S),{},{remarks:e.target.value}))},InputProps:{startAdornment:V},fullWidth:!0,disabled:!I})),ae=c.createElement(d.a,{mt:1,pl:10,pr:2},c.createElement(m.a,{placeholder:"\u5fc5\u8981\u30b7\u30b9\u30c6\u30e0\u30fb\u30c4\u30fc\u30eb",value:S.necessaryTools,onChange:function(e){return C(Object(a.a)(Object(a.a)({},S),{},{necessaryTools:e.target.value}))},InputProps:{startAdornment:Y},fullWidth:!0,multiline:!0,disabled:!I})),re=c.createElement(d.a,{mt:1,pl:10,pr:2},c.createElement(m.a,{placeholder:"\u4f8b\u5916",value:S.exceptions,onChange:function(e){return C(Object(a.a)(Object(a.a)({},S),{},{exceptions:e.target.value}))},InputProps:{startAdornment:J},fullWidth:!0,disabled:!I}));return c.createElement(d.a,{py:2},c.createElement(d.a,{display:"flex",flexDirection:"row",alignItems:"flex-end",pr:2},c.createElement(d.a,{pr:1},c.createElement(f.a,null,c.createElement(p.a,{classes:{icon:Object(y.h)(Q)?u()(G.selectType,G.switchIcon):G.selectType,select:G.select},value:S.type,IconComponent:function(e){return Object(y.i)(Q)?c.createElement(j.o,e):Object(y.h)(Q)?c.createElement(j.n,e):c.createElement(j.a,e)},disabled:!0},c.createElement(h.a,{value:"0"},"\u4f5c\u696d"),c.createElement(h.a,{value:"1"},"\u5206\u5c90"),Object(y.g)(S.type)&&c.createElement(h.a,{value:"2"},"\u6761\u4ef6")))),c.createElement(d.a,null,S.label!==w&&c.createElement(b.a,{variant:"h5"},w))),c.createElement(d.a,{display:"flex",flexDirection:"row",alignItems:"center",pr:2},c.createElement(d.a,{pr:4},c.createElement(g.a,{onClick:function(){R(!A)}},A?c.createElement(j.g,null):c.createElement(j.h,null))),c.createElement(d.a,{flexGrow:1},c.createElement(m.a,{placeholder:Object(y.i)(S.type)?x.a.placeholder.task:Object(y.h)(S.type)?x.a.placeholder.switch:x.a.placeholder.case,value:S.label,InputProps:{classes:{input:N?G.title:void 0}},fullWidth:!0,disabled:!I}))),0!==S.imageBlob.length&&c.createElement(d.a,{mt:1,pl:10,pr:2,justifyContent:"center"},c.createElement(O.a,{className:G.imageContainer},c.createElement("img",{src:S.imageBlob,className:G.img,alt:S.imageName}),I&&c.createElement(g.a,{className:G.deleteButton,onClick:function(e){return function(){C(Object(a.a)(Object(a.a)({},e),{},{imageName:"",imageBlob:""}))}}(S)},c.createElement(j.b,null)))),c.createElement(E.a,{in:!A},0!==S.input.length&&Z,0!==S.output.length&&X,0!==S.preConditions.length&&$,0!==S.postConditions.length&&ee,0!==S.workerInCharge.length&&te,0!==S.remarks.length&&ne,0!==S.necessaryTools.length&&ae,0!==S.exceptions.length&&re),c.createElement(E.a,{in:A},I&&0===S.imageBlob.length&&c.createElement(d.a,{mt:1,pl:10,pr:2},c.createElement(v.a,{component:"label",variant:"outlined",className:G.imageButton,fullWidth:!0},c.createElement(j.e,{className:G.imageIcon}),0!==S.imageName.length?S.imageName:"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e",c.createElement("form",null,c.createElement("input",{type:"file",style:{display:"none"},onChange:function(e){var t=e.target.files[0];if(void 0!==t){(i=new FileReader).onload=W,i.readAsDataURL(t);var n=String(e.target.value).split("\\");l=n[n.length-1],e.target.value=""}}})))),Z,X,$,ee,te,ne,ae,re),N&&S.children.map((function(e,a){return c.createElement(t,Object.assign({key:e.id},n,{itemNumber:"".concat(w," - ").concat(a+1),node:e}))})))}}).call(this,n(130))},478:function(e,t,n){e.exports=n(76)},59:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(56),r=function e(){Object(a.a)(this,e)};r.isEmpty=function(e){return""===e.replace(/\n|\t|\f|\s|\u3000/g,"")},r.getID=function(){return"tmp:".concat(String(Math.random()).slice(2))},r.validPassword=function(e){if(!/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])./.test(e))return"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u5927\u6587\u5b57\u3001\u5c0f\u6587\u5b57\u3001\u6570\u5b57\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u4e0b\u3055\u3044";return/^.{6,30}$/.test(e)?void 0:"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f6~30\u6587\u5b57\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059"}},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l}));var a=n(44),r=n.n(a)()(),c="ACTIONS_KSIZE_CHANGE",i="ACTIONS_KSIZE_ZOOM_IN",o="ACTIONS_KSIZE_ZOOM_OUT",l={change:r(c),zoomIn:r(i),zoomOut:r(o),reset:r("ACTIONS_KSIZE_RESET")}},76:function(e,t,n){"use strict";n.r(t),n.d(t,"toolbarHeight",(function(){return rc})),n.d(t,"theme",(function(){return cc}));var a,r=n(0),c=n.n(r),i=n(19),o=n(21),l=n(103),u=n(2),s=n(46),d=n(44),m=n.n(d),f=m()(),p={set:f("ACTIONS_LOGINUSER_SET"),reset:f("ACTIONS_LOGINUSER_RESET"),startSessionCheck:f("ACTIONS_LOGINUSER_START_SESSIONCHECK"),sessionChecked:f("ACTIONS_LOGINUSER_SESSIONCHECKED"),put:f("ACTIONS_LOGINUSER_PUT"),putSuccess:f("ACTIONS_LOGINUSER_PUT_SUCCESS"),putError:f("ACTIONS_LOGINUSER_PUT_ERROR")},h=Object(s.reducerWithInitialState)({user:null,userBeforeSaving:null,sessionChecked:!1}).case(p.set,(function(e,t){return Object(u.a)(Object(u.a)({},e),{},{user:t})})).case(p.sessionChecked,(function(e){return Object(u.a)(Object(u.a)({},e),{},{sessionChecked:!0})})).case(p.put,(function(e,t){return Object(u.a)(Object(u.a)({},e),{},{user:t,userBeforeSaving:e.user})})).case(p.putSuccess,(function(e){return Object(u.a)(Object(u.a)({},e),{},{userBeforeSaving:null})})).case(p.putError,(function(e){return Object(u.a)(Object(u.a)({},e),{},{user:e.userBeforeSaving,userBeforeSaving:null})})).case(p.reset,(function(e){return Object(u.a)(Object(u.a)({},e),{},{user:null})})),b=m()(),g={get:b("ACTIONS_MANUAL_GET"),getSuccess:b("ACTIONS_MANUAL_GET_SUCCESS"),update:b("ACTIONS_SELECT_UPDATE"),clear:b("ACTIONS_SELECT_CLEAR"),post:b("ACTIONS_MANUAL_POST"),put:b("ACTIONS_MANUAL_PUT"),putSuccess:b("ACTIONS_MANUAL_PUT_SUCCESS"),delete:b("ACTIONS_MANUAL_DELETE"),checkFavorite:b("ACTIONS_FAVORITE_POST"),uncheckFavorite:b("ACTIONS_FAVORITE_DELETE"),checkLike:b("ACTIONS_LIKE_POST"),uncheckLike:b("ACTIONS_LIKE_DELETE"),copy:b("ACTIONS_MANUAL_COPY"),postForCopy:b("ACTIONS_MANUAL_POST_FOR_COPY")},O={put:b("ACTIONS_TREE_PUT"),putSuccess:b("ACTIONS_TREE_PUT_SUCCESS"),putError:b("ACTIONS_TREE_PUT_ERROR")},E=n(9),v=n(114),j=n.n(v),y=n(35),x=n(20),w=Object(s.reducerWithInitialState)({manual:null,node:null}).case(g.get,(function(e){return Object(u.a)(Object(u.a)({},e),{},{requestGet:!0,manual:null,node:null})})).case(g.getSuccess,(function(e,t){var n=null!==t.rootTree?y.a._init(x.a._get(t.rootTree,E.f)):Object(u.a)({},E.f);return n.label=t.title,Object(u.a)(Object(u.a)({},e),{},{requestGet:!1,manual:t,node:n})})).case(g.put,(function(e,t){var n=j()(t),a=null!==n.rootTree?y.a._init(x.a._get(n.rootTree,E.f)):null;return null!==a&&(a.label=n.title),Object(u.a)(Object(u.a)({},e),{},{manual:n,node:a})})).case(g.putSuccess,(function(e,t){var n=j()(t),a=null!==n.rootTree?y.a._init(x.a._get(n.rootTree,E.f)):null;return null!==a&&(a.label=n.title),Object(u.a)(Object(u.a)({},e),{},{manual:n,node:a})})).case(g.update,(function(e,t){return Object(u.a)(Object(u.a)({},e),{},{node:t})})).case(g.clear,(function(e){return Object(u.a)(Object(u.a)({},e),{},{manual:null,node:null})})).case(g.checkFavorite,(function(e,t){var n=t.userId,a=e.manual;return Object(u.a)(Object(u.a)({},e),{},{manual:Object(u.a)(Object(u.a)({},a),{},{favoriteIds:a.favoriteIds.concat([n])})})})).case(g.uncheckFavorite,(function(e,t){var n=t.userId,a=e.manual;return Object(u.a)(Object(u.a)({},e),{},{manual:Object(u.a)(Object(u.a)({},a),{},{favoriteIds:a.favoriteIds.filter((function(e){return e!==n}))})})})).case(g.checkLike,(function(e,t){var n=t.userId,a=e.manual;return Object(u.a)(Object(u.a)({},e),{},{manual:Object(u.a)(Object(u.a)({},a),{},{likeIds:a.likeIds.concat([n])})})})).case(g.uncheckLike,(function(e,t){var n=t.userId,a=e.manual;return Object(u.a)(Object(u.a)({},e),{},{manual:Object(u.a)(Object(u.a)({},a),{},{likeIds:a.likeIds.filter((function(e){return e!==n}))})})})).case(O.put,(function(e,t){var n=t.rootTree,a=null!==n?y.a._init(x.a._get(n,E.f)):null;return Object(u.a)(Object(u.a)({},e),{},{manual:Object(u.a)(Object(u.a)({},e.manual),{},{rootTree:n}),node:a})})).case(O.putSuccess,(function(e,t){var n=null!==t?y.a._init(x.a._get(t,E.f)):null;return null!==n&&(n.label=e.manual.title),Object(u.a)(Object(u.a)({},e),{},{manual:Object(u.a)(Object(u.a)({},e.manual),{},{rootTree:n}),node:n})})),k=m()(),S={set:k("ACTIONS_MEMOS_SET"),change:k("ACTIONS_MEMOS_CHANGE"),changeSuccess:k("ACTIONS_MEMOS_CHANGE_SUCCESS"),changeError:k("ACTIONS_MEMOS_CHANGE_ERROR")},C=Object(s.reducerWithInitialState)({memos:[]}).case(S.set,(function(e,t){return Object(u.a)(Object(u.a)({},e),{},{memos:t})})).case(S.change,(function(e,t){return Object(u.a)(Object(u.a)({},e),{},{memos:t})})).case(S.changeSuccess,(function(e,t){return Object(u.a)(Object(u.a)({},e),{},{memos:t})})),I=n(67),N=n(15),T={ks:"ks",ft:"ft",rs:"rs",tes:"tes",tree:"tree",commonList:"commonList",memoList:"memoList"},_=localStorage.getItem(T.ks),A={ks:null!==_?JSON.parse(_):N.q},R=Object(s.reducerWithInitialState)(A).case(I.d.change,(function(e,t){return Object(u.a)(Object(u.a)({},e),{},{ks:t})})).case(I.d.reset,(function(e){return Object(u.a)(Object(u.a)({},e),{},{ks:N.q})})).case(I.d.zoomIn,(function(e){return Object(u.a)(Object(u.a)({},e),{},{ks:Object(u.a)(Object(u.a)({},e.ks),{},{unit:e.ks.unit+2})})})).case(I.d.zoomOut,(function(e){return Object(u.a)(Object(u.a)({},e),{},{ks:Object(u.a)(Object(u.a)({},e.ks),{},{unit:e.ks.unit-2})})})),L={playOnClick:!1,rate:1,pitch:1},P=n(152),M={rs:L},D=Object(s.reducerWithInitialState)(M).case(P.a.change,(function(e,t){return Object(u.a)(Object(u.a)({},e),{},{rs:t})})).case(P.a.reset,(function(e){return Object(u.a)(Object(u.a)({},e),{},{rs:L})})),F=n(465),B=n(22),W=n.n(B),G=n(10),z="/api/v1/login";!function(e){e[e.ALL=0]="ALL",e[e.CHECK=1]="CHECK",e[e.UNCHECK=2]="UNCHECK"}(a||(a={}));var U={filters:{favorite:a.ALL,like:a.ALL,categoryId:null},searchText:[],sortColumn:"updateAt",sortDirection:"desc",page:0,rowsPerPage:10},H="/api/v1/manual",q=n(235),K=n.n(q),V=n(448),Y=n.n(V),J=n(112),Q={id:"a",lastName:"\u5c71\u7530",firstName:"\u592a\u90ce",mail:"user@user.com"},Z={id:"b",lastName:"\u4f50\u85e4",firstName:"\u82b1\u5b50",mail:"user@user.com"},X={id:"c",lastName:"\u6c5f\u6238\u5ddd",firstName:"\u30b3\u30ca\u30f3",mail:"user@user.com"},$={id:"d",lastName:"\u6bdb\u5229",firstName:"\u5c0f\u4e94\u90ce",mail:"user@user.com"},ee=Object(u.a)(Object(u.a)({},E.d),{},{id:"1",title:"\u4f01\u753b\u30de\u30cb\u30e5\u30a2\u30eb",description:"\u3053\u3053\u306b\u306f\u4f01\u753b\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u8aac\u660e\u3002\u3053\u3053\u306b\u306f\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u8aac\u660e\u3002\u3053\u3053\u306b\u306f\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u8aac\u660e\u3002",ownerId:"a",collaboratorIds:[],categoryId:"1",favoriteIds:["a"],likeIds:["a","c","d"],rootTree:null,updateAt:"yyyy/MM/dd hh:mm",createAt:"yyyy/MM/dd hh:mm"}),te=Object(u.a)(Object(u.a)({},E.d),{},{id:"2",title:"\u55b6\u696d\u30de\u30cb\u30e5\u30a2\u30eb",description:"\u3053\u3053\u306b\u306f\u55b6\u696d\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u8aac\u660e\u3002\u3053\u3053\u306b\u306f\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u8aac\u660e\u3002\u3053\u3053\u306b\u306f\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u8aac\u660e\u3002",ownerId:"a",collaboratorIds:["b"],categoryId:"2",favoriteIds:["b","d"],likeIds:["a"],rootTree:null,updateAt:"yyyy/MM/dd hh:mm",createAt:"yyyy/MM/dd hh:mm"}),ne=Object(u.a)(Object(u.a)({},E.d),{},{id:"3",title:"\u4eba\u4e8b\u30de\u30cb\u30e5\u30a2\u30eb",description:"\u3053\u3053\u306b\u306f\u4eba\u4e8b\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u8aac\u660e\u3002\u3053\u3053\u306b\u306f\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u8aac\u660e\u3002\u3053\u3053\u306b\u306f\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u8aac\u660e\u3002",ownerId:"c",collaboratorIds:["b"],categoryId:"3",isPublic:!1,favoriteIds:[],rootTree:null,updateAt:"yyyy/MM/dd hh:mm",createAt:"yyyy/MM/dd hh:mm"}),ae=Object(u.a)(Object(u.a)({},E.d),{},{id:"4",title:"\u4f01\u753b\u30de\u30cb\u30e5\u30a2\u30eb\uff12",description:"\u3053\u3053\u306b\u306f\u4f01\u753b\u30de\u30cb\u30e5\u30a2\u30eb\uff12\u306e\u8aac\u660e\u3002\u3053\u3053\u306b\u306f\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u8aac\u660e\u3002\u3053\u3053\u306b\u306f\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u8aac\u660e\u3002",ownerId:"a",collaboratorIds:["b"],categoryId:"1",visible:!1,favoriteIds:["a","c","d"],likeIds:["a","d"],rootTree:null,updateAt:"yyyy/MM/dd hh:mm",createAt:"yyyy/MM/dd hh:mm"}),re=Object(u.a)(Object(u.a)({},E.e),{},{id:"5",label:"",children:[Object(u.a)(Object(u.a)({},E.e),{},{id:"6",label:"\u624b\u9806\uff11"}),Object(u.a)(Object(u.a)({},E.e),{},{id:"7",label:"\u624b\u9806\uff12"}),Object(u.a)(Object(u.a)({},E.e),{},{id:"8",label:"\u624b\u9806\uff13"})]}),ce={id:"1",name:"\u4f01\u753b"},ie={id:"2",name:"\u55b6\u696d"},oe={id:"3",name:"\u4eba\u4e8b"},le={id:"ga",name:"\u55b6\u696d\u30c1\u30fc\u30e0",memberIds:["a","b"]},ue={id:"gb",name:"\u5c11\u5e74\u63a2\u5075\u56e3",memberIds:["c","d"]},se=function(e){var t=e.method,n=e.url,a=e.data,r=JSON.parse(a),c=[Q,Z,X,$],i=[le,ue],o=[ee,te,ne,ae],l=Object(J.a)(Array(300)).map((function(e){return[ce,ie,oe]})).reduce((function(e,t){return e.concat(t)})).map((function(e,t){return{id:String(t),name:"".concat(e.name," (").concat(t,")")}})),u={user:Q,users:c,userGroups:i,manuals:o,categories:l},s={user:Z,users:c,userGroups:i,manuals:o,categories:l},d={user:X,users:c,userGroups:i,manuals:o,categories:l},m={user:$,users:c,userGroups:i,manuals:o,categories:l},f="a"===r.id?u:"b"===r.id?s:"c"===r.id?d:m;return console.log(t,n,r,f),[200,f]},de=function(e){var t=e.method,n=e.url,a={};return console.log(t,n,a),[200,a]},me=n(59),fe=function(e){var t=e.method,n=e.url,a=Object(J.a)(n).reduceRight((function(e,t){return e+t})),r=j()(re),c="1"===a[0]?Object(u.a)(Object(u.a)({},ee),{},{rootTree:r}):"2"===a[0]?Object(u.a)(Object(u.a)({},te),{},{rootTree:r}):"3"===a[0]?Object(u.a)(Object(u.a)({},ne),{},{rootTree:r}):Object(u.a)(Object(u.a)({},ae),{},{rootTree:r});return console.log(t,n,c),[200,c]},pe=function(e){var t=e.method,n=e.url,a=e.data,r=JSON.parse(a),c=Object(u.a)(Object(u.a)({},r),{},{id:"".concat(me.a.getID())});return console.log(t,n,r,c),[200,c]},he=function(e){var t=e.method,n=e.url,a=e.data,r=JSON.parse(a),c=Object(u.a)({},r);return console.log(t,n,r,c),[200,c]},be=function(e){var t=e.method,n=e.url,a={};return console.log(t,n,a),[200,a]},ge=function(e){var t=e.method,n=e.url,a={};return console.log(t,n,a),[200,a]},Oe=function(e){var t=e.method,n=e.url,a={};return console.log(t,n,a),[200,a]},Ee=function(e){var t=e.method,n=e.url,a={};return console.log(t,n,a),[200,a]},ve=function(e){var t=e.method,n=e.url,a={};return console.log(t,n,a),[200,a]},je=function(e){var t=e.method,n=e.url,a=e.data,r=JSON.parse(a),c=Object(u.a)({},r);return console.log(t,n,r,c),[200,c]},ye=function(e){var t=e.method,n=e.url,a=e.data,r=JSON.parse(a),c=Object(u.a)({},r);return console.log(t,n,r,c),[200,c]},xe=function(e){var t=e.method,n=e.url,a=e.data,r=JSON.parse(a);return console.log(t,n,r),[200]},we=function(e){var t=e.method,n=e.url,a=e.data,r=JSON.parse(a),c={title:r.title,valid:!0};return console.log(t,n,r,c),[200,c]},ke=function(e){var t=e.method,n=e.url,a=e.data,r=JSON.parse(a),c={title:"".concat(r.title," \u306e\u30b3\u30d4\u30fc(").concat(Math.ceil(10*Math.random()),")"),valid:!0};return console.log(t,n,r,c),[200,c]},Se=function(e){var t=e.method,n=e.url,a=e.data,r=JSON.parse(a),c=r.page,i=r.rowsPerPage,o={queryParams:r,manuals:Object(J.a)(Array(i)).fill(!0).map((function(e,t){return Object(u.a)(Object(u.a)({},ee),{},{title:"".concat(ee.title,"(").concat(c*i+t+1,")")})})),count:500};return console.log(t,n,r,o),[200,o]},Ce=function(e){var t=e.method,n=e.url,a=[Q,Z,X,$],r=[le,ue],c=[ee,te,ne,ae],i=Object(J.a)(Array(300)).map((function(e){return[ce,ie,oe]})).reduce((function(e,t){return e.concat(t)})).map((function(e,t){return{id:String(t),name:"".concat(e.name," (").concat(t,")")}})),o={user:Q,users:a,userGroups:r,manuals:c,categories:i},l={user:Z,users:a,userGroups:r,manuals:c,categories:i},u={user:X,users:a,userGroups:r,manuals:c,categories:i},s={user:$,users:a,userGroups:r,manuals:c,categories:i},d=Math.floor(8*Math.random()),m=d<4?[o,l,u,s].find((function(e,t){return t===d})):{error:{}};return console.log(t,n,m),[200,m]},Ie=function(){var e=new Y.a(K.a,{delayResponse:500});e.onPost(z).reply(se),e.onDelete(z).reply(de),e.onPost("/api/v1/session-check").reply(Ce);var t=new RegExp("".concat("/api/v1/users","/*"));e.onPut(t).reply(ye);var n=new RegExp("".concat("/api/v1/password","/*"));e.onPut(n).reply(xe),e.onPost("/api/v1/manuals").reply(Se);var a=new RegExp("".concat(H,"/*"));e.onGet(a).reply(fe),e.onPost(H).reply(pe),e.onPut(a).reply(he),e.onDelete(a).reply(be),e.onPost("/api/v1/manual-title-check").reply(we),e.onPost("/api/v1/manual-generate-title").reply(ke);var r=new RegExp("".concat("/api/v1/favorites","/*"));e.onPost(r).reply(ge),e.onDelete(r).reply(Oe);var c=new RegExp("".concat("/api/v1/likes","/*"));e.onPost(c).reply(Ee),e.onDelete(c).reply(ve);var i=new RegExp("".concat("/api/v1/tree","/*"));return e.onPut(i).reply(je),K.a}(),Ne=function(e){return Ie.post(z,e).then((function(e){return e.data})).catch((function(e){return{error:e}}))},Te=function(){return Ie.delete(z).then((function(e){return e.data})).catch((function(e){return{error:e}}))},_e=function(){return Ie.post("/api/v1/session-check").then((function(e){return e.data})).catch((function(e){return{error:e}}))},Ae=function(e){return Ie.put("".concat("/api/v1/users","/").concat(e.id),e).then((function(e){return e.data})).catch((function(e){return{error:e}}))},Re=function(e){return Ie.get("".concat(H,"/").concat(e)).then((function(e){return e.data})).catch((function(e){return{error:e}}))},Le=function(e){return Ie.post(H,e).then((function(e){return e.data})).catch((function(e){return{error:e}}))},Pe=function(e){return Ie.put("".concat(H,"/").concat(e.id),e).then((function(e){return e.data})).catch((function(e){return{error:e}}))},Me=function(e){return Ie.delete("".concat(H,"/").concat(e.id)).then((function(e){return e.data})).catch((function(e){return{error:e}}))},De=function(e){return Ie.post("/api/v1/manual-title-check",e).then((function(e){return e.data})).catch((function(e){return{error:e}}))},Fe=function(e){return Ie.post("/api/v1/manual-generate-title",e).then((function(e){return e.data})).catch((function(e){return{error:e}}))},Be=function(e){return Ie.post("".concat("/api/v1/favorites","/").concat(e.manualId)).then((function(e){return e.data})).catch((function(e){return{error:e}}))},We=function(e){return Ie.delete("".concat("/api/v1/favorites","/").concat(e.manualId)).then((function(e){return e.data})).catch((function(e){return{error:e}}))},Ge=function(e){return Ie.post("".concat("/api/v1/likes","/").concat(e.manualId)).then((function(e){return e.data})).catch((function(e){return{error:e}}))},ze=function(e){return Ie.delete("".concat("/api/v1/likes","/").concat(e.manualId)).then((function(e){return e.data})).catch((function(e){return{error:e}}))},Ue=function(e){var t=e.manualId,n=e.rootTree;return Ie.put("".concat("/api/v1/tree","/").concat(t),n).then((function(e){return e.data})).catch((function(e){return{error:e}}))},He=m()(),qe={login:He("ACTIONS_LOGIN"),logout:He("ACTIONS_LOGOUT")},Ke={change:m()()("ACTIONS_USER_CHANGE")},Ve=m()(),Ye={set:Ve("ACTIONS_CATEGORIES_SET"),filterSet:Ve("ACTIONS_CATEGORY_FILTER_SET"),filterReset:Ve("ACTIONS_CATEGORY_FILTER_RESET")},Je=m()(),Qe={enqueue:Je("ACTIONS_NOTIFICATIONS_ENQUEUE"),display:Je("ACTIONS_NOTIFICATIONS_DISPLAY"),dequeue:Je("ACTIONS_NOTIFICATIONS_DEQUEUE"),dismiss:Je("ACTIONS_NOTIFICATIONS_DISMISS"),remove:Je("ACTIONS_NOTIFICATIONS_REMOVE")},Ze=m()(),Xe={beginLogin:Ze("ACTIONS_LOADING_BEGIN_LOGIN"),endLogin:Ze("ACTIONS_LOADING_END_LOGIN"),beginManualQuery:Ze("ACTIONS_LOADING_BEGIN_MANUAL_QUERY"),endManualQuery:Ze("ACTIONS_LOADING_END_MANUAL_QUERY"),beginManual:Ze("ACTIONS_LOADING_BEGIN_MANUAL"),endManual:Ze("ACTIONS_LOADING_END_MANUAL")},$e={change:m()()("ACTIONS_USERGROUPS_CHANGE")},et=function(e){return e.titleCheck},tt=function(e){return e.ks.ks},nt=function(e){return e.loginUser.user},at=function(e){return e.users.users},rt=m()(),ct={set:rt("ACTIONS_TITLECHECK_SET_PRETITLE"),enqueue:rt("ACTIONS_TITLECHECK_ENQUEUE"),get:rt("ACTIONS_TITLECHECK_RESULT_GET"),generate:rt("ACTIONS_TITLECHECK_GENERATE"),done:rt("ACTIONS_TITLECHECK_GENERATE_DONE")},it=W.a.mark(It),ot=W.a.mark(Nt),lt=W.a.mark(Tt),ut=W.a.mark(_t),st=W.a.mark(At),dt=W.a.mark(Rt),mt=W.a.mark(Lt),ft=W.a.mark(Pt),pt=W.a.mark(Mt),ht=W.a.mark(Dt),bt=W.a.mark(Ft),gt=W.a.mark(Bt),Ot=W.a.mark(Wt),Et=W.a.mark(Gt),vt=W.a.mark(zt),jt=W.a.mark(Ut),yt=W.a.mark(Ht),xt=W.a.mark(qt),wt=W.a.mark(Kt),kt=W.a.mark(Vt),St=W.a.mark(Yt),Ct=function(){return(new Date).getTime()+Math.random()};function It(){var e,t,n,a,r,c,i;return W.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,Object(G.e)("ACTIONS_LOGIN");case 3:return e=o.sent,o.next=6,Object(G.c)(Xe.beginLogin());case 6:return o.next=8,Object(G.a)(Ne,e.payload);case 8:return t=o.sent,o.next=11,Object(G.c)(Xe.endLogin());case 11:if(void 0!==t.error){o.next=21;break}return a=(n=t).user,r=n.users,c=n.userGroups,i=n.categories,o.next=15,Object(G.c)(p.set(a));case 15:return o.next=17,Object(G.c)(Ke.change(r));case 17:return o.next=19,Object(G.c)($e.change(c));case 19:return o.next=21,Object(G.c)(Ye.set(i));case 21:o.next=0;break;case 23:case"end":return o.stop()}}),it)}function Nt(){var e,t,n,a,r;return W.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=3,Object(G.e)("ACTIONS_LOGOUT");case 3:return e=Ct(),t={key:e,variant:"info",message:"\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u3044\u307e\u3059.."},c.next=7,Object(G.c)(Qe.enqueue(t));case 7:return c.next=9,Object(G.a)(Te);case 9:return n=c.sent,c.next=12,Object(G.c)(Qe.dequeue(e));case 12:if(void 0!==n.error){c.next=20;break}return c.next=15,Object(G.c)(p.reset());case 15:return a={key:Ct(),variant:"success",message:"\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u307e\u3057\u305f"},c.next=18,Object(G.c)(Qe.enqueue(a));case 18:c.next=23;break;case 20:return r={key:Ct(),variant:"warning",message:"\u30ed\u30b0\u30a2\u30a6\u30c8\u306b\u5931\u6557\u3057\u307e\u3057\u305f"},c.next=23,Object(G.c)(Qe.enqueue(r));case 23:c.next=0;break;case 25:case"end":return c.stop()}}),ot)}function Tt(){var e,t,n,a,r,c;return W.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Object(G.e)("ACTIONS_LOGINUSER_START_SESSIONCHECK");case 3:return i.next=5,Object(G.a)(_e);case 5:return e=i.sent,i.next=8,Object(G.c)(p.sessionChecked());case 8:if(void 0!==e.error){i.next=18;break}return n=(t=e).user,a=t.users,r=t.userGroups,c=t.categories,i.next=12,Object(G.c)(p.set(n));case 12:return i.next=14,Object(G.c)(Ke.change(a));case 14:return i.next=16,Object(G.c)($e.change(r));case 16:return i.next=18,Object(G.c)(Ye.set(c));case 18:i.next=0;break;case 20:case"end":return i.stop()}}),lt)}function _t(){var e,t,n,a;return W.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(G.e)("ACTIONS_LOGINUSER_PUT");case 3:return e=r.sent,r.next=6,Object(G.c)(Xe.beginLogin());case 6:return r.next=8,Object(G.a)(Ae,e.payload);case 8:return t=r.sent,r.next=11,Object(G.c)(Xe.endLogin());case 11:if(void 0!==t.error){r.next=19;break}return r.next=14,Object(G.c)(p.putSuccess());case 14:return n={key:Ct(),variant:"success",message:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f"},r.next=17,Object(G.c)(Qe.enqueue(n));case 17:r.next=24;break;case 19:return r.next=21,Object(G.c)(p.putError());case 21:return a={key:Ct(),variant:"warning",message:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306e\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f"},r.next=24,Object(G.c)(Qe.enqueue(a));case 24:r.next=0;break;case 26:case"end":return r.stop()}}),ut)}function At(){var e;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=W.a.mark((function e(){var t,n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.e)("ACTIONS_LOGINUSER_PUT_SUCCESS");case 2:return e.next=4,Object(G.d)(nt);case 4:return t=e.sent,e.next=7,Object(G.d)(at);case 7:return n=e.sent,e.next=10,Object(G.c)(Ke.change(n.map((function(e){return e.id===t.id?t:e}))));case 10:case"end":return e.stop()}}),e)}));case 1:return t.delegateYield(e(),"t0",3);case 3:t.next=1;break;case 5:case"end":return t.stop()}}),st)}function Rt(){var e,t,n;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(G.e)("ACTIONS_MANUAL_GET");case 3:return e=a.sent,a.next=6,Object(G.c)(Xe.beginManual());case 6:return a.next=8,Object(G.a)(Re,e.payload);case 8:return t=a.sent,a.next=11,Object(G.c)(Xe.endManual());case 11:if(void 0!==t.error){a.next=16;break}return a.next=14,Object(G.c)(g.getSuccess(t));case 14:a.next=19;break;case 16:return n={key:Ct(),variant:"warning",message:"\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f"},a.next=19,Object(G.c)(Qe.enqueue(n));case 19:a.next=0;break;case 21:case"end":return a.stop()}}),dt)}function Lt(){var e,t,n;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(G.e)("ACTIONS_MANUAL_POST");case 3:return e=a.sent,a.next=6,Object(G.a)(Le,e.payload);case 6:if(void 0!==a.sent.error){a.next=13;break}return t={key:Ct(),variant:"success",message:"\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u65b0\u898f\u4f5c\u6210\u3057\u307e\u3057\u305f"},a.next=11,Object(G.c)(Qe.enqueue(t));case 11:a.next=16;break;case 13:return n={key:Ct(),variant:"warning",message:"\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f"},a.next=16,Object(G.c)(Qe.enqueue(n));case 16:a.next=0;break;case 18:case"end":return a.stop()}}),mt)}function Pt(){var e,t,n,a;return W.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(G.e)("ACTIONS_MANUAL_PUT");case 3:return e=r.sent,r.next=6,Object(G.a)(Pe,e.payload);case 6:if(void 0!==(t=r.sent).error){r.next=15;break}return r.next=10,Object(G.c)(g.putSuccess(t));case 10:return n={key:Ct(),variant:"success",message:"\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f"},r.next=13,Object(G.c)(Qe.enqueue(n));case 13:r.next=18;break;case 15:return a={key:Ct(),variant:"warning",message:"\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f"},r.next=18,Object(G.c)(Qe.enqueue(a));case 18:r.next=0;break;case 20:case"end":return r.stop()}}),ft)}function Mt(){var e,t,n;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(G.e)("ACTIONS_MANUAL_DELETE");case 3:return e=a.sent,a.next=6,Object(G.a)(Me,e.payload);case 6:if(void 0!==a.sent.error){a.next=13;break}return t={key:Ct(),variant:"success",message:"\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u524a\u9664\u3057\u307e\u3057\u305f"},a.next=11,Object(G.c)(Qe.enqueue(t));case 11:a.next=16;break;case 13:return n={key:Ct(),variant:"warning",message:"\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f"},a.next=16,Object(G.c)(Qe.enqueue(n));case 16:a.next=0;break;case 18:case"end":return a.stop()}}),pt)}function Dt(){var e,t,n,a;return W.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(G.d)(et);case 2:if(e=r.sent,t=e.title,n=e.preTitle,""===t||t===n){r.next=11;break}return r.next=8,Object(G.a)(De,{title:t});case 8:return a=r.sent,r.next=11,Object(G.c)(ct.get(a));case 11:case"end":return r.stop()}}),ht)}function Ft(){var e,t,n;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(G.e)("ACTIONS_TITLECHECK_GENERATE");case 3:return a.next=5,Object(G.d)(et);case 5:return e=a.sent,t={title:e.seed},a.next=9,Object(G.a)(Fe,t);case 9:if(void 0!==(n=a.sent).error){a.next=13;break}return a.next=13,Object(G.c)(ct.done(n));case 13:a.next=0;break;case 15:case"end":return a.stop()}}),bt)}function Bt(){var e,t,n,a,r,c,i,o;return W.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=3,Object(G.e)("ACTIONS_MANUAL_COPY");case 3:return e=l.sent,t=e.payload,l.next=7,Object(G.c)(g.postForCopy(t));case 7:return l.next=9,Object(G.a)(Le,e.payload);case 9:if(void 0!==(n=l.sent).error){l.next=32;break}if(null===t.rootTree){l.next=30;break}return a=x.a._clearId(t.rootTree),r={manualId:n.id,rootTree:a},l.next=16,Object(G.a)(Ue,r);case 16:if(void 0!==l.sent.error){l.next=25;break}return l.next=20,Object(G.c)(O.putSuccess(a));case 20:return c={key:Ct(),variant:"success",message:"\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f"},l.next=23,Object(G.c)(Qe.enqueue(c));case 23:l.next=30;break;case 25:return l.next=27,Object(G.c)(O.putError(r.manualId));case 27:return i={key:Ct(),variant:"warning",message:"\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u30b3\u30d4\u30fc\u306b\u5931\u6557\u3057\u307e\u3057\u305f"},l.next=30,Object(G.c)(Qe.enqueue(i));case 30:l.next=35;break;case 32:return o={key:Ct(),variant:"warning",message:"\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u30b3\u30d4\u30fc\u306b\u5931\u6557\u3057\u307e\u3057\u305f"},l.next=35,Object(G.c)(Qe.enqueue(o));case 35:l.next=0;break;case 37:case"end":return l.stop()}}),gt)}function Wt(){var e,t;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(G.e)("ACTIONS_FAVORITE_POST");case 3:return e=n.sent,n.next=6,Object(G.a)(Be,e.payload);case 6:if(void 0!==n.sent.error){n.next=10;break}n.next=13;break;case 10:return t={key:Ct(),variant:"warning",message:"\u304a\u6c17\u306b\u5165\u308a\u767b\u9332\u306b\u5931\u6557\u3057\u307e\u3057\u305f"},n.next=13,Object(G.c)(Qe.enqueue(t));case 13:n.next=0;break;case 15:case"end":return n.stop()}}),Ot)}function Gt(){var e,t;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(G.e)("ACTIONS_FAVORITE_DELETE");case 3:return e=n.sent,n.next=6,Object(G.a)(We,e.payload);case 6:if(void 0!==n.sent.error){n.next=10;break}n.next=13;break;case 10:return t={key:Ct(),variant:"warning",message:"\u304a\u6c17\u306b\u5165\u308a\u89e3\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f"},n.next=13,Object(G.c)(Qe.enqueue(t));case 13:n.next=0;break;case 15:case"end":return n.stop()}}),Et)}function zt(){var e,t;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(G.e)("ACTIONS_LIKE_POST");case 3:return e=n.sent,n.next=6,Object(G.a)(Ge,e.payload);case 6:if(void 0!==n.sent.error){n.next=10;break}n.next=13;break;case 10:return t={key:Ct(),variant:"warning",message:"\u3044\u3044\u306d\u767b\u9332\u306b\u5931\u6557\u3057\u307e\u3057\u305f"},n.next=13,Object(G.c)(Qe.enqueue(t));case 13:n.next=0;break;case 15:case"end":return n.stop()}}),vt)}function Ut(){var e,t;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(G.e)("ACTIONS_LIKE_DELETE");case 3:return e=n.sent,n.next=6,Object(G.a)(ze,e.payload);case 6:if(void 0!==n.sent.error){n.next=10;break}n.next=13;break;case 10:return t={key:Ct(),variant:"warning",message:"\u3044\u3044\u306d\u89e3\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f"},n.next=13,Object(G.c)(Qe.enqueue(t));case 13:n.next=0;break;case 15:case"end":return n.stop()}}),jt)}function Ht(){var e,t,n,a;return W.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(G.e)("ACTIONS_TREE_PUT");case 3:return e=r.sent,r.next=6,Object(G.a)(Ue,e.payload);case 6:if(void 0!==(t=r.sent).error){r.next=15;break}return r.next=10,Object(G.c)(O.putSuccess(t));case 10:return n={key:Ct(),variant:"success",message:"\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f"},r.next=13,Object(G.c)(Qe.enqueue(n));case 13:r.next=18;break;case 15:return a={key:Ct(),variant:"warning",message:"\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f"},r.next=18,Object(G.c)(Qe.enqueue(a));case 18:r.next=0;break;case 20:case"end":return r.stop()}}),yt)}function qt(){var e;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(G.e)(I.a);case 3:return t.next=5,Object(G.d)(tt);case 5:e=t.sent,localStorage.setItem(T.ks,JSON.stringify(e)),t.next=0;break;case 9:case"end":return t.stop()}}),xt)}function Kt(){var e;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(G.e)(I.b);case 3:return t.next=5,Object(G.d)(tt);case 5:e=t.sent,localStorage.setItem(T.ks,JSON.stringify(e)),t.next=0;break;case 9:case"end":return t.stop()}}),wt)}function Vt(){var e;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(G.e)(I.c);case 3:return t.next=5,Object(G.d)(tt);case 5:e=t.sent,localStorage.setItem(T.ks,JSON.stringify(e)),t.next=0;break;case 9:case"end":return t.stop()}}),kt)}function Yt(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.b)(It);case 2:return e.next=4,Object(G.b)(Nt);case 4:return e.next=6,Object(G.b)(Tt);case 6:return e.next=8,Object(G.b)(_t);case 8:return e.next=10,Object(G.b)(At);case 10:return e.next=12,Object(G.b)(Rt);case 12:return e.next=14,Object(G.b)(Lt);case 14:return e.next=16,Object(G.b)(Pt);case 16:return e.next=18,Object(G.b)(Mt);case 18:return e.next=20,Object(G.f)(1e3,"ACTIONS_TITLECHECK_ENQUEUE",Dt);case 20:return e.next=22,Object(G.b)(Ft);case 22:return e.next=24,Object(G.b)(Bt);case 24:return e.next=26,Object(G.b)(Wt);case 26:return e.next=28,Object(G.b)(Gt);case 28:return e.next=30,Object(G.b)(zt);case 30:return e.next=32,Object(G.b)(Ut);case 32:return e.next=34,Object(G.b)(Ht);case 34:return e.next=36,Object(G.b)(qt);case 36:return e.next=38,Object(G.b)(Kt);case 38:return e.next=40,Object(G.b)(Vt);case 40:case"end":return e.stop()}}),St)}var Jt=Object(s.reducerWithInitialState)({categories:[],filter:null}).case(Ye.set,(function(e,t){return Object(u.a)(Object(u.a)({},e),{},{categories:t})})).case(Ye.filterSet,(function(e,t){return Object(u.a)(Object(u.a)({},e),{},{filter:t})})).case(Ye.filterReset,(function(e){return Object(u.a)(Object(u.a)({},e),{},{filter:null})})),Qt=Object(s.reducerWithInitialState)({users:[]}).case(Ke.change,(function(e,t){return Object(u.a)(Object(u.a)({},e),{},{users:t})})),Zt=Object(s.reducerWithInitialState)({enqueue:null,dequeue:null,displayed:[]}).case(Qe.enqueue,(function(e,t){return Object(u.a)(Object(u.a)({},e),{},{enqueue:t})})).case(Qe.display,(function(e){return Object(u.a)(Object(u.a)({},e),{},{enqueue:null,displayed:e.displayed.concat([e.enqueue])})})).case(Qe.dequeue,(function(e,t){var n=e.displayed.find((function(e){return e.key===t}));return Object(u.a)(Object(u.a)({},e),{},{dequeue:n})})).case(Qe.dismiss,(function(e){return Object(u.a)(Object(u.a)({},e),{},{dequeue:null})})).case(Qe.remove,(function(e,t){return Object(u.a)(Object(u.a)({},e),{},{displayed:e.displayed.filter((function(e){return e.key!==t}))})})),Xt=Object(s.reducerWithInitialState)({loginLoading:!1,manualsLoading:!1,manualLoading:!1}).case(Xe.beginLogin,(function(e){return Object(u.a)(Object(u.a)({},e),{},{loginLoading:!0})})).case(Xe.endLogin,(function(e){return Object(u.a)(Object(u.a)({},e),{},{loginLoading:!1})})).case(Xe.beginManualQuery,(function(e){return Object(u.a)(Object(u.a)({},e),{},{manualsLoading:!0})})).case(Xe.endManualQuery,(function(e){return Object(u.a)(Object(u.a)({},e),{},{manualsLoading:!1})})).case(Xe.beginManual,(function(e){return Object(u.a)(Object(u.a)({},e),{},{manualLoading:!0})})).case(Xe.endManual,(function(e){return Object(u.a)(Object(u.a)({},e),{},{manualLoading:!1})})),$t=Object(s.reducerWithInitialState)({userGroups:[]}).case($e.change,(function(e,t){return Object(u.a)(Object(u.a)({},e),{},{userGroups:t})})),en=Object(s.reducerWithInitialState)({preTitle:"",title:"",result:null,seed:null}).case(ct.set,(function(e,t){var n=t.preTitle,a=t.willGenerate;return Object(u.a)(Object(u.a)({},e),{},{preTitle:n,title:n,result:null,seed:void 0!==a?a:null})})).case(ct.enqueue,(function(e,t){return""!==t.title?Object(u.a)(Object(u.a)({},e),t):Object(u.a)(Object(u.a)(Object(u.a)({},e),t),{},{result:null})})).case(ct.get,(function(e,t){return Object(u.a)(Object(u.a)({},e),{},{result:t})})).case(ct.done,(function(e,t){return Object(u.a)(Object(u.a)({},e),{},{result:t,title:t.title})})),tn=Object(F.a)(),nn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,an=Object(l.e)(Object(l.c)({loading:Xt,loginUser:h,users:Qt,userGroups:$t,manual:w,categories:Jt,memos:C,notifications:Zt,titleCheck:en,ks:R,rs:D}),nn(Object(l.a)(tn)));tn.run(Yt);var rn=an,cn=n(123),on=n(714),ln=n(688),un=n(237),sn=n(145),dn=n(142),mn=n(87),fn=n(42),pn={dashboard:"/wolf/",follows:"/wolf/follows",login:"/wolf/login",edit:"/wolf/edit",text:"/wolf/text"},hn=n(11),bn=n(414),gn=n(90),On=n(737),En=n(61),vn=n(49),jn=n(71),yn=n(711),xn=n(63),wn=n(115),kn=n(709),Sn=n(710),Cn=n(449),In=n.n(Cn),Nn=Object(bn.a)((function(e){return{main:{width:"auto",display:"block",marginLeft:e.spacing(3),marginRight:e.spacing(3),[e.breakpoints.up(400+e.spacing(6))]:{width:400,marginLeft:"auto",marginRight:"auto"}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},textField:{marginTop:e.spacing(2)},wrapper:{marginTop:e.spacing(3),position:"relative",width:"100%"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),Tn=function(e){var t=e.loading,n=e.login,a=Object(r.useState)("a"),c=Object(hn.a)(a,2),i=c[0],o=c[1],l=Object(r.useState)("password"),u=Object(hn.a)(l,2),s=u[0],d=u[1],m=Object(r.useState)(!1),f=Object(hn.a)(m,2),p=f[0],h=f[1],b=Nn();return r.createElement("main",{className:b.main},r.createElement(gn.a,{className:b.paper},r.createElement(On.a,{className:b.avatar},r.createElement(In.a,null)),r.createElement(En.a,{component:"h1",variant:"h5"},"Flow Like"),r.createElement(vn.a,{className:b.textField,label:"ID",variant:"outlined",value:i,onChange:function(e){return o(e.target.value)},fullWidth:!0,margin:"normal"}),r.createElement(vn.a,{className:b.textField,label:"\u30d1\u30b9\u30ef\u30fc\u30c9",type:p?"text":"password",value:s,onChange:function(e){return d(e.target.value)},InputProps:{endAdornment:r.createElement(xn.a,{position:"end"},r.createElement(wn.a,{"aria-label":"Toggle password visibility",onClick:function(){return h(!p)}},p?r.createElement(kn.a,null):r.createElement(Sn.a,null)))},fullWidth:!0}),r.createElement("div",{className:b.wrapper},r.createElement(jn.a,{variant:"contained",color:"primary",size:"large",disabled:t,onClick:function(){n({id:i,password:s})},fullWidth:!0},"\u30ed\u30b0\u30a4\u30f3"),t&&r.createElement(yn.a,{size:24,className:b.buttonProgress}))))};var _n=Object(o.b)((function(e){return{loading:e.loading.loginLoading}}),(function(e){return{login:function(t){return e(qe.login(t))}}}))(Tn),An=n(712),Rn=n(85),Ln=n(736),Pn=n(464),Mn=n.n(Pn),Dn=n(425),Fn=n(451),Bn=n.n(Fn),Wn=n(723),Gn=n(724),zn=n(725),Un=n(726),Hn=n(727),qn=n(420),Kn=n(445),Vn=n(26),Yn=n(713),Jn=n(716),Qn=n(311),Zn=n(70),Xn=n.n(Zn),$n=n(314),ea=n(313),ta=n(426),na=n(718),aa=n(312),ra=n(721),ca=n(722),ia=n(146),oa=n(143);var la=Object(o.b)((function(e){return Object(u.a)({},e.titleCheck)}),(function(e){return{set:function(t){return e(ct.set(t))},generate:function(){return e(ct.generate())},enqueue:function(t){return e(ct.enqueue(t))}}}))((function(e){var t=e.defaultTitle,n=e.disabled,a=e.willGenerate,i=e.title,o=e.result,l=e.set,u=e.generate,s=e.enqueue,d=Object(r.useState)(!0),m=Object(hn.a)(d,2),f=m[0],p=m[1];f&&(p(!1),l({preTitle:t,willGenerate:a}),void 0!==a&&u());var h=Object(r.useState)(t),b=Object(hn.a)(h,2),g=b[0],O=b[1],E=Object(r.useRef)(Object(Zn.debounce)((function(e){s({preTitle:t,title:e})}),500));Object(r.useEffect)((function(){return E.current(g)}),[g]);var v=""!==i&&i!==t?c.a.createElement(xn.a,{position:"end"},null===o||i!==o.title?c.a.createElement(yn.a,{size:24}):o.valid?c.a.createElement(ra.a,{style:{color:ia.a[300]}}):c.a.createElement(ca.a,{style:{color:oa.a[300]}})):void 0,j=i===t||""===i||null===o?"":i!==o.title?"-":o.valid?"\u3053\u306e\u30bf\u30a4\u30c8\u30eb\u306f\u4f7f\u7528\u53ef\u80fd\u3067\u3059":"\u3053\u306e\u30bf\u30a4\u30c8\u30eb\u306f\u91cd\u8907\u3057\u3066\u3044\u308b\u305f\u3081\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093";return c.a.createElement(vn.a,{label:"\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u540d\u79f0",value:g,onChange:function(e){O(e.target.value)},InputProps:{endAdornment:v},helperText:j,disabled:void 0!==n&&n,fullWidth:!0})})),ua=n(308),sa=n(467),da=n(453),ma=n.n(da),fa=n(62),pa=Object(bn.a)((function(e){return{root:{flexGrow:1,height:250},container:{flexGrow:1,position:"relative"},paper:{position:"absolute",zIndex:2e3,marginTop:e.spacing(1),left:0,right:0},chip:{margin:e.spacing(.5,.25)},inputRoot:{flexWrap:"wrap"},inputInput:{width:"auto",flexGrow:1},divider:{height:e.spacing(2)}}})),ha=function(e){var t=e.inputLabel,n=void 0===t?"":t,a=e.placeholder,r=void 0===a?"":a,i=e.suggestions,o=e.labelProp,l=e.initialSelectedItem,s=void 0===l?null:l,d=e.onChange,m=e.willReset,f=e.setWillReset,p=e.disabled;function h(e){var t=e.inputValue,n=e.getItemProps,a=e.highlightedIndex,r=e.selectedItem;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.showEmpty,a=void 0!==n&&n,r=ma()(e.trim()).toLowerCase(),c=r.length,l=0;return 0!==c||a?i.filter((function(e){var t=l<5&&e[o].slice(0,c).toLowerCase()===r;return t&&(l+=1),t})):[]}(t,{showEmpty:!0}).map((function(e,t){return function(e){var t=e.item,n=e.index,a=e.itemProps,r=e.highlightedIndex===n,i=(e.selectedItem||"").indexOf(t[o])>-1;return c.a.createElement(fa.a,Object.assign({},a,{key:t[o],selected:r,component:"div",style:{fontWeight:i?500:400}}),t[o])}({item:e,index:t,itemProps:n({item:e[o]}),highlightedIndex:a,selectedItem:r})}))}var b=pa();return c.a.createElement(sa.a,{initialSelectedItem:s,onChange:d},(function(e){var t=e.getInputProps,a=e.getItemProps,i=e.getLabelProps,o=e.getMenuProps,l=e.highlightedIndex,s=e.inputValue,g=e.isOpen,O=e.selectedItem,E=e.openMenu,v=e.clearSelection,j=t({onChange:function(e){""===e.target.value&&v()},onFocus:E,placeholder:r}),y=j.onBlur,x=j.onFocus,w=Object(ua.a)(j,["onBlur","onFocus"]);return m&&(v(),void 0!==f&&f(!1)),c.a.createElement("div",{className:b.container},function(e){var t=e.InputProps,n=e.classes,a=e.ref,r=Object(ua.a)(e,["InputProps","classes","ref"]);return c.a.createElement(vn.a,Object.assign({InputProps:Object(u.a)({inputRef:a,classes:{root:n.inputRoot,input:n.inputInput}},t)},r,{disabled:p}))}({fullWidth:!0,classes:b,label:n,InputLabelProps:i({shrink:!0}),InputProps:{onBlur:y,onChange:d,onFocus:x},inputProps:w}),c.a.createElement("div",o(),g&&c.a.createElement(gn.a,{className:b.paper,square:!0},h({inputValue:s,getItemProps:a,highlightedIndex:l,selectedItem:O}))))}))},ba=Object(bn.a)((function(e){return{switch:{minWidth:150,margin:e.spacing(1),marginBottom:0}}})),ga=function(e){var t=e.categories,n=e.filter,a=e.onClose,c=e.title,i=e.result,o=Object(r.useState)(t[0].id),l=Object(hn.a)(o,2),s=l[0],d=l[1],m=Object(r.useState)(!0),f=Object(hn.a)(m,2),p=f[0],h=f[1],b=function(){h(!0),a()},g=ba();return r.createElement(r.Fragment,null,r.createElement($n.a,null,"\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u65b0\u898f\u4f5c\u6210"),r.createElement(ea.a,{style:{minHeight:400}},r.createElement(la,{defaultTitle:""}),r.createElement(Vn.a,{py:2},r.createElement(ha,{inputLabel:"\u30ab\u30c6\u30b4\u30ea\u30fc",suggestions:t,labelProp:"name",initialSelectedItem:null!==n?n.name:null,onChange:function(e){null!==e&&d(t.find((function(t){return t.name===e})).id)}})),r.createElement(ta.a,{className:g.switch,control:r.createElement(na.a,{checked:p,onChange:function(e){return h(e.target.checked)},color:"primary"}),label:"\u516c\u958b"})),r.createElement(aa.a,null,r.createElement(jn.a,{onClick:b},"\u30ad\u30e3\u30f3\u30bb\u30eb"),r.createElement(jn.a,{onClick:function(){var t=e.user;(0,e.add)(Object(u.a)(Object(u.a)({},E.d),{},{id:me.a.getID(),title:c,categoryId:s,isPublic:p,ownerId:t.id,rootTree:E.e})),b()},color:"primary",disabled:""===c||null===i||c!==i.title},"\u4f5c\u6210")))};var Oa=Object(o.b)((function(e){return Object(u.a)(Object(u.a)({user:e.loginUser.user},e.categories),e.titleCheck)}),(function(e){return{add:function(t){return e(g.post(t))}}}))(ga),Ea=function(e){return{body:{noMatch:e?"Now Loading..":"Sorry, no matching records found",toolTip:"Sort"},pagination:{next:"Next Page",previous:"Previous Page",rowsPerPage:"Rows per page:",displayRows:"of"},toolbar:{search:"Search",downloadCsv:"Download CSV",print:"Print",viewColumns:"View Columns",filterTable:"Filter Table"},filter:{all:"All",title:"FILTERS",reset:"RESET"},viewColumns:{title:"Show Columns",titleAria:"Show/Hide Table Columns"},selectedRows:{text:"row(s) selected",delete:"Delete",deleteAria:"Delete Selected Rows"}}},va=Object(bn.a)((function(e){return{head:{position:"sticky",backgroundColor:e.palette.background.paper,top:0,zIndex:1e3},description:{width:"calc(100vw - ".concat(800+Zr,"px)"),[e.breakpoints.down("md")]:{width:"calc(100vw - ".concat(800,"px)")}},date:{maxWidth:90},extendedIcon:{marginLeft:e.spacing(1)}}}));var ja=Object(fn.h)(Object(o.b)((function(e){return Object(u.a)(Object(u.a)({user:e.loginUser.user},e.users),e.categories)}),(function(e){return{filterSet:function(t){return e(Ye.filterSet(t))},filterReset:function(){return e(Ye.filterReset())},clearSelectManual:function(){return e(g.clear())}}}))((function(e){var t=Object(r.useState)(!1),n=Object(hn.a)(t,2),i=n[0],o=n[1],l=U.filters,u=l.favorite,s=l.like,d=U.searchText,m=U.sortColumn,f=U.sortDirection,p=U.page,h=U.rowsPerPage,b=Object(r.useState)(u),g=Object(hn.a)(b,2),O=g[0],E=g[1],v=Object(r.useState)(s),j=Object(hn.a)(v,2),y=j[0],x=j[1],w=Object(r.useState)(d),k=Object(hn.a)(w,2),S=k[0],C=k[1],I=Object(r.useState)(m),N=Object(hn.a)(I,2),T=N[0],_=N[1],A=Object(r.useState)(f),R=Object(hn.a)(A,2),L=R[0],P=R[1],M=Object(r.useState)(p),D=Object(hn.a)(M,2),F=D[0],B=D[1],W=Object(r.useState)(h),G=Object(hn.a)(W,2),z=G[0],H=G[1],q=Object(r.useState)([]),K=Object(hn.a)(q,2),V=K[0],Y=K[1],J=Object(r.useState)(0),Q=Object(hn.a)(J,2),Z=Q[0],X=Q[1],$=Object(r.useState)(!0),ee=Object(hn.a)($,2),te=ee[0],ne=ee[1],ae=Object(r.useState)(!0),re=Object(hn.a)(ae,2),ce=re[0],ie=re[1],oe=null===e.filter?null:e.filter.id;Object(r.useEffect)((function(){if(!te){e.clearSelectManual(),o(!0);var t={filters:{favorite:O,like:y,categoryId:oe},searchText:S,sortColumn:T,sortDirection:L,page:F,rowsPerPage:z};Ie.post("/api/v1/manuals",t).then((function(e){ie(!1),o(!1),Y(e.data.manuals),X(e.data.count)}))}ne(!1)}),[O,y,oe,S,T,L,F,z]);var le=Object(r.useState)(""),ue=Object(hn.a)(le,2),se=ue[0],de=ue[1],me=Object(r.useRef)(Object(Zn.debounce)((function(e){return C(e.split(/( |\u3000)+/).filter((function(e){return null===e.match(/( |\u3000)/)&&""!==e})))}),500));Object(r.useEffect)((function(){return me.current(se)}),[se]);var fe=va(),pe=[{name:"favorite",label:"\u304a\u6c17\u306b\u5165\u308a",options:{filter:!0,filterOptions:{names:["\u304a\u6c17\u306b\u5165\u308a\u767b\u9332\u6e08\u307f","\u304a\u6c17\u306b\u5165\u308a\u672a\u767b\u9332"],logic:(e,t)=>!1},sort:!0,customHeadRender:function(e,t){return c.a.createElement(qn.a,{className:fe.head,sortDirection:e.options.sortDirection,onClick:function(){return t(e.index)}},c.a.createElement(Kn.a,{active:void 0!==e.options.sortDirection,direction:e.options.sortDirection||"asc"},c.a.createElement(Wn.a,null)))},customBodyRender:function(e){return c.a.createElement(Vn.a,{display:"flex",justifyContent:"left"},c.a.createElement(Yn.a,{badgeContent:e.sum},e.bool?c.a.createElement(Gn.a,null):c.a.createElement(Wn.a,null)))}}},{name:"like",label:"\u3044\u3044\u306d",options:{filter:!0,filterOptions:{names:["\u3044\u3044\u306d\u767b\u9332\u6e08\u307f","\u3044\u3044\u306d\u672a\u767b\u9332"],logic:(e,t)=>!1},sort:!0,customHeadRender:function(e,t){return c.a.createElement(qn.a,{className:fe.head,sortDirection:e.options.sortDirection,onClick:function(){return t(e.index)}},c.a.createElement(Kn.a,{active:void 0!==e.options.sortDirection,direction:e.options.sortDirection||"asc"},c.a.createElement(zn.a,null)))},customBodyRender:function(e){return c.a.createElement(Vn.a,{display:"flex",justifyContent:"left"},c.a.createElement(Yn.a,{badgeContent:e.sum},e.bool?c.a.createElement(Un.a,null):c.a.createElement(zn.a,null)))}}},{name:"title",label:"\u30bf\u30a4\u30c8\u30eb",options:{filter:!1,sort:!1,customBodyRender:function(e){return c.a.createElement(jn.a,{size:"small",color:"primary",onClick:(t=e.id,function(){Oe.push("/manual/".concat(t,"/tree")),Ee()})},c.a.createElement(En.a,{noWrap:!0},e.title));var t}}},{name:"owner",label:"\u30aa\u30fc\u30ca\u30fc",options:{filter:!1,sort:!1}},{name:"category",label:"\u30ab\u30c6\u30b4\u30ea\u30fc",options:{filter:!0,filterOptions:{names:e.categories.map((function(e){return e.name})),logic:(e,t)=>!1},sort:!1,customBodyRender:function(e){return c.a.createElement(En.a,null,e.name)}}},{name:"description",label:"\u8aac\u660e",options:{filter:!1,sort:!1,customBodyRender:function(e){return c.a.createElement(En.a,{className:fe.description,noWrap:!0},e)}}},{name:"updateAt",label:"\u66f4\u65b0\u65e5\u6642",options:{filter:!1,sort:!0,sortDirection:"desc",customBodyRender:function(e){return c.a.createElement(En.a,{className:fe.date},e)}}},{name:"createAt",label:"\u4f5c\u6210\u65e5\u6642",options:{filter:!1,sort:!0,customBodyRender:function(e){return c.a.createElement(En.a,{className:fe.date},e)}}}],he=e.user,be=e.users,ge=e.categories,Oe=e.history,Ee=e.filterReset;if(null===he)throw new Error("LoginUser cannot be null.");var ve=V.map((function(e,t){var n=he.id===e.ownerId?he:be.find((function(t){return t.id===e.ownerId})),a=void 0!==e.favoriteIds.find((function(e){return e===he.id})),r=void 0!==e.likeIds.find((function(e){return e===he.id}));return{favorite:{bool:a,sum:e.favoriteIds.length},like:{bool:r,sum:e.likeIds.length},title:{id:e.id,title:e.title},description:e.description,owner:"".concat(n.lastName," ").concat(n.firstName),category:ge.find((function(t){return t.id===e.categoryId})),updateAt:e.updateAt,createAt:e.createAt}})),je={print:!1,download:!1,selectableRows:"none",viewColumns:!1,sortFilterList:!1,elevation:0,rowHover:!1,responsive:"scrollFullHeight",serverSide:!0,count:Z,searchText:se||"",rowsPerPageOptions:[10,20,50],onTableChange:function(t,n){switch(t){case"filterChange":!function(t){var n=t[0],r=0===n.length?a.ALL:n.indexOf("true")>=0?a.CHECK:a.UNCHECK;E(r);var c=t[1],i=0===c.length?a.ALL:c.indexOf("true")>=0?a.CHECK:a.UNCHECK;x(i);var o=t[4];if(0===o.length)e.filterReset();else{var l=e.categories.find((function(e){return e.name===o[0]}));e.filterSet(l)}}(n.filterList);break;case"search":!function(e){de(e||"")}(n.searchText);break;case"changePage":c=n.page,B(c);break;case"changeRowsPerPage":r=n.rowsPerPage,H(r)}var r,c},onColumnSortChange:function(e,t){var n="ascending"===t?"asc":"desc";_(e),P(n)},textLabels:Ea(ce)},ye=Object(r.useState)(!1),xe=Object(hn.a)(ye,2),we=xe[0],ke=xe[1];function Se(){ke(!1)}var Ce=c.a.createElement(Vn.a,{display:"flex",flexDirection:"row",alignItems:"center",py:2},c.a.createElement(Vn.a,{mr:2},c.a.createElement(En.a,{variant:"h5"},"\u30de\u30cb\u30e5\u30a2\u30eb\u4e00\u89a7")),c.a.createElement(Ln.a,{lgUp:!0,implementation:"css"},c.a.createElement(Vn.a,{mr:2},c.a.createElement(Jn.a,{variant:"extended",color:"primary",onClick:function(){ke(!0)}},"\u65b0\u898f\u4f5c\u6210",c.a.createElement(Hn.a,{className:fe.extendedIcon})))),i&&c.a.createElement(Vn.a,null,c.a.createElement(yn.a,{size:24})));return c.a.createElement(c.a.Fragment,null,c.a.createElement(ln.a,{theme:Object(cn.a)({palette:{primary:sn.a,secondary:dn.a},typography:{button:{textTransform:"none"}},overrides:{MuiTableCell:{root:{paddingLeft:8,paddingRight:8}},MuiTableSortLabel:{root:{marginRight:-10}}}})},c.a.createElement(Bn.a,{title:Ce,data:ve,columns:pe,options:je})),c.a.createElement(Qn.a,{open:we,onClose:Se,maxWidth:"sm",fullWidth:!0},c.a.createElement(Oa,{onClose:Se})))}))),ya=n(717),xa=n(734),wa=n(719),ka=n(715),Sa=n(154),Ca=n(463),Ia=n.n(Ca),Na=n(693),Ta=n(696),_a=n(188),Aa=function(e){var t=e.user,n=e.manual,a=e.title,i=e.result,o=e.categories,l=e.replace,s=e.titleReset,d=Object(r.useState)(n),m=Object(hn.a)(d,2),f=m[0],p=m[1],h=f.ownerId===t.id,b=a!==n.title||f.categoryId!==n.categoryId||f.description!==n.description,g=n.title===a||""!==a&&null!==i&&a===i.title&&i.valid;return Object(r.useEffect)((function(){p(n)}),[n]),c.a.createElement("div",null,c.a.createElement(Vn.a,{display:"flex",flexDirection:"row",alignItems:"flex-end",py:2},c.a.createElement(Vn.a,{flexGrow:1},c.a.createElement(En.a,{variant:"h5"},"\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u57fa\u672c\u8a2d\u5b9a")),h&&c.a.createElement(Vn.a,null,c.a.createElement(jn.a,{onClick:function(){p(n),s({preTitle:f.title})},disabled:!b},"\u5143\u306b\u623b\u3059")),h&&c.a.createElement(Vn.a,null,c.a.createElement(jn.a,{color:"primary",onClick:function(){l(Object(u.a)(Object(u.a)({},f),{},{title:a}))},disabled:!b||!g},"\u5909\u66f4\u3059\u308b"))),c.a.createElement(Vn.a,{py:2},c.a.createElement(la,{defaultTitle:n.title,disabled:!h})),c.a.createElement(Vn.a,{py:2,width:"100%"},c.a.createElement(ha,{inputLabel:"\u30ab\u30c6\u30b4\u30ea\u30fc",suggestions:o,labelProp:"name",initialSelectedItem:o.find((function(e){return f.categoryId===e.id})).name,onChange:function(e){p(Object(u.a)(Object(u.a)({},f),{},{categoryId:o.find((function(t){return t.name===e})).id}))}})),c.a.createElement(Vn.a,{py:2},c.a.createElement(vn.a,{variant:"outlined",label:"\u8aac\u660e",value:f.description,onChange:function(e){p(Object(u.a)(Object(u.a)({},f),{},{description:e.target.value}))},multiline:!0,rows:6,rowsMax:12,disabled:!h,fullWidth:!0})))};var Ra=Object(o.b)((function(e){var t=e.manual.manual;return Object(u.a)({user:e.loginUser.user,manual:t,categories:e.categories.categories},e.titleCheck)}),(function(e){return{replace:function(t){return e(g.put(t))},titleReset:function(t){return e(ct.set(t))}}}))(Aa),La=n(444),Pa=Object(bn.a)((function(e){return{chip:{margin:e.spacing(1)}}})),Ma=function(e){var t=e.user,n=e.users,a=e.manual,i=e.replace,o=Object(r.useState)(a),l=Object(hn.a)(o,2),s=l[0],d=l[1],m=s.ownerId===t.id,f=0!==Xn.a.difference(s.collaboratorIds,a.collaboratorIds).length||0!==Xn.a.difference(a.collaboratorIds,s.collaboratorIds).length,p=function(e){return"".concat(e.lastName," ").concat(e.firstName," (").concat(e.id,")")},h=Object(r.useState)(""),b=Object(hn.a)(h,2),g=b[0],O=b[1],E=Object(r.useState)(!1),v=Object(hn.a)(E,2),j=v[0],y=v[1];Object(r.useEffect)((function(){d(a)}),[a]);var x=s.collaboratorIds.map((function(e){return n.find((function(t){return t.id===e}))})),w=n.filter((function(e){return void 0===s.collaboratorIds.find((function(t){return t===e.id}))&&e.id!==t.id})).map((function(e){return Object(u.a)(Object(u.a)({},e),{},{name:p(e)})})),k=""===g?null:p(n.find((function(e){return e.id===g}))),S=Pa();return c.a.createElement("div",null,c.a.createElement(Vn.a,{display:"flex",flexDirection:"row",alignItems:"flex-end",py:2},c.a.createElement(Vn.a,{flexGrow:1},c.a.createElement(En.a,{variant:"h5"},"\u30b3\u30e9\u30dc\u30ec\u30fc\u30bf\u30fc")),m&&c.a.createElement(Vn.a,null,c.a.createElement(jn.a,{onClick:function(){d(a)},disabled:!f},"\u5143\u306b\u623b\u3059")),m&&c.a.createElement(Vn.a,null,c.a.createElement(jn.a,{color:"primary",onClick:function(){i(s)},disabled:!f},"\u5909\u66f4\u3059\u308b"))),c.a.createElement(Vn.a,{py:2},c.a.createElement(Vn.a,null,c.a.createElement(En.a,{variant:"caption"},"\u30b3\u30e9\u30dc\u30ec\u30fc\u30bf\u30fc")),0===x.length&&c.a.createElement(La.a,{className:S.chip,label:"\u672a\u767b\u9332"}),x.map((function(e,t){return c.a.createElement(La.a,{key:t,className:S.chip,label:"".concat(e.lastName," ").concat(e.firstName),onDelete:m?(n=e.id,function(){d(Object(u.a)(Object(u.a)({},s),{},{collaboratorIds:s.collaboratorIds.filter((function(e){return e!==n}))}))}):void 0});var n}))),c.a.createElement(Vn.a,{display:"flex",flexDirection:"row",alignItems:"flex-end",py:2},c.a.createElement(Vn.a,{flexGrow:1},c.a.createElement(ha,{inputLabel:"\u30b3\u30e9\u30dc\u30ec\u30fc\u30bf\u30fc\u306e\u8ffd\u52a0",suggestions:w,labelProp:"name",initialSelectedItem:k,onChange:function(e){O(null===e?"":n.find((function(t){return e===p(t)})).id)},willReset:j,setWillReset:y})),c.a.createElement(Vn.a,{ml:2},c.a.createElement(jn.a,{variant:"contained",color:"primary",onClick:function(){d(Object(u.a)(Object(u.a)({},s),{},{collaboratorIds:s.collaboratorIds.concat([g])})),O(""),y(!0)},disabled:""===g},"\u8ffd\u52a0"))))};var Da=Object(o.b)((function(e){var t=e.manual.manual;return Object(u.a)(Object(u.a)({user:e.loginUser.user},e.users),{},{manual:t})}),(function(e){return{replace:function(t){return e(g.put(t))}}}))(Ma),Fa=Object(bn.a)((function(e){return{container:{padding:e.spacing(2)},chip:{margin:e.spacing(1)},switch:{width:200}}})),Ba=function(e){var t=e.user,n=e.users,a=e.userGroups,i=e.manual,o=e.replace,l=Object(r.useState)(i),s=Object(hn.a)(l,2),d=s[0],m=s[1],f=d.ownerId===t.id,p=d.isPublic!==i.isPublic||0!==Xn.a.difference(d.viewerIdsOfUser,i.viewerIdsOfUser).length||0!==Xn.a.difference(d.viewerIdsOfGroup,i.viewerIdsOfGroup).length||0!==Xn.a.difference(i.viewerIdsOfUser,d.viewerIdsOfUser).length||0!==Xn.a.difference(i.viewerIdsOfGroup,d.viewerIdsOfGroup).length,h=Object(r.useState)(""),b=Object(hn.a)(h,2),g=b[0],O=b[1],E=d.viewerIdsOfUser.map((function(e){return n.find((function(t){return t.id===e}))})),v=n.filter((function(e){return void 0===d.viewerIdsOfUser.find((function(t){return e.id===t}))&&e.id!==t.id})),j=Object(r.useState)(""),y=Object(hn.a)(j,2),x=y[0],w=y[1],k=d.viewerIdsOfGroup.map((function(e){return a.find((function(t){return t.id===e}))})),S=a.filter((function(e){return void 0===d.viewerIdsOfGroup.find((function(t){return e.id===t}))}));Object(r.useEffect)((function(){m(i)}),[i]);var C=Fa();return c.a.createElement("div",null,c.a.createElement(Vn.a,{display:"flex",flexDirection:"row",alignItems:"flex-end",py:2},c.a.createElement(Vn.a,{flexGrow:1},c.a.createElement(En.a,{variant:"h5"},"\u516c\u958b\u8a2d\u5b9a")),f&&c.a.createElement(Vn.a,null,c.a.createElement(jn.a,{onClick:function(){m(i)},disabled:!p},"\u5143\u306b\u623b\u3059")),f&&c.a.createElement(Vn.a,null,c.a.createElement(jn.a,{color:"primary",onClick:function(){o(d)},disabled:!p},"\u5909\u66f4\u3059\u308b"))),c.a.createElement(Vn.a,{py:2,width:"100%"},c.a.createElement("div",null,c.a.createElement(En.a,{variant:"caption"},"\u516c\u958b\u30fb\u975e\u516c\u958b")),c.a.createElement(Vn.a,{pt:1},c.a.createElement(ta.a,{className:C.switch,control:c.a.createElement(na.a,{checked:d.isPublic,color:"primary",onChange:function(e,t){m(Object(u.a)(Object(u.a)({},d),{},{isPublic:t}))}}),label:"\u516c\u958b",disabled:!f}))),!d.isPublic&&f&&c.a.createElement(Vn.a,{px:2,pt:2},c.a.createElement(Vn.a,null,c.a.createElement(En.a,{variant:"caption"},"\u95b2\u89a7\u53ef\u80fd\u306a\u30e6\u30fc\u30b6\u30fc")),0===E.length&&c.a.createElement(La.a,{className:C.chip,label:"\u672a\u767b\u9332"}),E.map((function(e,t){return c.a.createElement(La.a,{key:t,className:C.chip,label:"".concat(e.lastName," ").concat(e.firstName),onDelete:f?(n=e.id,function(){m(Object(u.a)(Object(u.a)({},d),{},{viewerIdsOfUser:d.viewerIdsOfUser.filter((function(e){return e!==n}))}))}):void 0});var n}))),!d.isPublic&&f&&c.a.createElement(Vn.a,{display:"flex",flexDirection:"row",alignItems:"flex-end",py:2},c.a.createElement(Vn.a,{flexGrow:1},c.a.createElement(vn.a,{select:!0,variant:"outlined",label:"\u95b2\u89a7\u53ef\u80fd\u306a\u30e6\u30fc\u30b6\u30fc\u306e\u8ffd\u52a0",value:g,onChange:function(e){return O(e.target.value)},disabled:!f,fullWidth:!0},c.a.createElement(fa.a,{value:""},c.a.createElement("em",null,"None")),v.map((function(e){return c.a.createElement(fa.a,{key:e.id,value:e.id},"".concat(e.lastName," ").concat(e.firstName))})))),c.a.createElement(Vn.a,{ml:2},c.a.createElement(jn.a,{variant:"contained",color:"primary",onClick:function(){m(Object(u.a)(Object(u.a)({},d),{},{viewerIdsOfUser:d.viewerIdsOfUser.concat([g])})),O("")},disabled:""===g},"\u8ffd\u52a0"))),!d.isPublic&&f&&c.a.createElement(Vn.a,{px:2,pt:2},c.a.createElement(Vn.a,null,c.a.createElement(En.a,{variant:"caption"},"\u95b2\u89a7\u53ef\u80fd\u306a\u30e6\u30fc\u30b6\u30fc\u30b0\u30eb\u30fc\u30d7")),0===k.length&&c.a.createElement(La.a,{className:C.chip,label:"\u672a\u767b\u9332"}),k.map((function(e,t){return c.a.createElement(La.a,{key:t,className:C.chip,label:e.name,onDelete:f?(n=e.id,function(){m(Object(u.a)(Object(u.a)({},d),{},{viewerIdsOfGroup:d.viewerIdsOfGroup.filter((function(e){return e!==n}))}))}):void 0});var n}))),!d.isPublic&&f&&c.a.createElement(Vn.a,{display:"flex",flexDirection:"row",alignItems:"flex-end",py:2},c.a.createElement(Vn.a,{flexGrow:1},c.a.createElement(vn.a,{select:!0,variant:"outlined",label:"\u95b2\u89a7\u53ef\u80fd\u306a\u30e6\u30fc\u30b6\u30fc\u30b0\u30eb\u30fc\u30d7\u306e\u8ffd\u52a0",value:x,onChange:function(e){return w(e.target.value)},disabled:!f,fullWidth:!0},c.a.createElement(fa.a,{value:""},c.a.createElement("em",null,"None")),S.map((function(e){return c.a.createElement(fa.a,{key:e.id,value:e.id},e.name)})))),c.a.createElement(Vn.a,{ml:2},c.a.createElement(jn.a,{variant:"contained",color:"primary",onClick:function(){m(Object(u.a)(Object(u.a)({},d),{},{viewerIdsOfGroup:d.viewerIdsOfGroup.concat([x])})),w("")},disabled:""===x},"\u8ffd\u52a0"))))};var Wa=Object(o.b)((function(e){var t=e.manual.manual;return Object(u.a)(Object(u.a)(Object(u.a)({user:e.loginUser.user},e.users),e.userGroups),{},{manual:t})}),(function(e){return{replace:function(t){return e(g.put(t))}}}))(Ba),Ga=function(e){var t=e.manual,n=e.copy,a=e.title,r=e.result;return c.a.createElement("div",null,c.a.createElement(Vn.a,{py:2},c.a.createElement(En.a,{variant:"h5"},"\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u8907\u88fd\u3059\u308b")),c.a.createElement(Vn.a,{display:"flex",flexDirection:"row",alignItems:"flex-end",py:2},c.a.createElement(Vn.a,{flexGrow:1},c.a.createElement(la,{defaultTitle:"",willGenerate:t.title})),c.a.createElement(Vn.a,{ml:2},c.a.createElement(jn.a,{variant:"contained",color:"primary",onClick:function(){n(Object(u.a)(Object(u.a)({},t),{},{id:me.a.getID(),title:a}))},disabled:""===a||null===r||a!==r.title||!r.valid},"\u8907\u88fd\u3059\u308b"))))};var za=Object(o.b)((function(e){var t=e.manual.manual;return Object(u.a)(Object(u.a)({},e.manual),{},{manual:t},e.titleCheck)}),(function(e){return{copy:function(t){return e(g.copy(t))}}}))(Ga),Ua=n(415),Ha=n(728),qa=Object(fn.h)((function(e){var t=e.user,n=e.manual,a=e.manualDelete,i=e.history,o=n.ownerId===t.id,l=Object(r.useState)(""),u=Object(hn.a)(l,2),s=u[0],d=u[1];var m=Object(r.useState)(!1),f=Object(hn.a)(m,2),p=f[0],h=f[1];function b(){h(!1)}return c.a.createElement("div",null,c.a.createElement(Vn.a,{py:2},c.a.createElement(En.a,{variant:"h5"},"\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u524a\u9664\u3059\u308b")),c.a.createElement(Vn.a,{display:"flex",flexDirection:"row",alignItems:"flex-end",py:2},c.a.createElement(Vn.a,{flexGrow:1},c.a.createElement(vn.a,{label:"\u78ba\u8a8d\u306e\u305f\u3081\u30bf\u30a4\u30c8\u30eb\u3092\u5165\u529b",value:s,onChange:function(e){d(e.target.value)},error:n.title!==s&&o,fullWidth:!0,disabled:!o})),c.a.createElement(Vn.a,{ml:2},c.a.createElement(jn.a,{variant:"contained",color:"primary",onClick:function(){n.title===s?(a(n),i.push(pn.dashboard)):h(!0)},disabled:!o},"\u524a\u9664\u3059\u308b"))),c.a.createElement(Ua.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:p,autoHideDuration:3e3,onClose:b,message:c.a.createElement("span",null,"\u30bf\u30a4\u30c8\u30eb\u304c\u4e00\u81f4\u3057\u307e\u305b\u3093"),action:[c.a.createElement(wn.a,{key:"close",color:"inherit",onClick:b},c.a.createElement(Vn.a,null,c.a.createElement(Ha.a,null)))]}))}));var Ka=Object(o.b)((function(e){var t=e.manual.manual;return{user:e.loginUser.user,manual:t}}),(function(e){return{manualDelete:function(t){return e(g.delete(t))}}}))(qa),Va=function(e){var t=e.user,n=e.users,a=e.manual,i=e.replace,o=Object(r.useState)(a),l=Object(hn.a)(o,2),s=l[0],d=l[1],m=a.ownerId===t.id,f=s.ownerId!==a.ownerId;Object(r.useEffect)((function(){d(a)}),[a]);var p=function(e){return"".concat(e.lastName," ").concat(e.firstName," (").concat(e.id,")")},h=n.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{name:p(e)})})),b=p(n.find((function(e){return e.id===s.ownerId})));return c.a.createElement("div",null,c.a.createElement(Vn.a,{display:"flex",flexDirection:"row",alignItems:"flex-end",py:2},c.a.createElement(Vn.a,{flexGrow:1},c.a.createElement(En.a,{variant:"h5"},"\u30aa\u30fc\u30ca\u30fc\u306e\u5909\u66f4")),m&&c.a.createElement(Vn.a,null,c.a.createElement(jn.a,{onClick:function(){d(a)},disabled:!f},"\u5143\u306b\u623b\u3059")),m&&c.a.createElement(Vn.a,null,c.a.createElement(jn.a,{color:"primary",onClick:function(){i(s)},disabled:!f},"\u5909\u66f4\u3059\u308b"))),c.a.createElement(Vn.a,{display:"flex",py:2},c.a.createElement(Vn.a,{flexGrow:1},c.a.createElement(ha,{inputLabel:"\u30aa\u30fc\u30ca\u30fc\u306e\u5909\u66f4",suggestions:h,labelProp:"name",initialSelectedItem:b,onChange:function(e){null!==e&&d(Object(u.a)(Object(u.a)({},s),{},{ownerId:n.find((function(t){return e===p(t)})).id}))},disabled:!m}))))};var Ya=Object(o.b)((function(e){var t=e.manual.manual;return Object(u.a)(Object(u.a)({user:e.loginUser.user},e.users),{},{manual:t})}),(function(e){return{replace:function(t){return e(g.put(t))}}}))(Va),Ja=function(e){var t=Object(r.useState)(0),n=Object(hn.a)(t,2),a=n[0],c=n[1],i=function(e){return function(){return c(e)}};return r.createElement(Vn.a,{m:3},r.createElement(ya.a,{container:!0,spacing:2},r.createElement(ya.a,{item:!0,xs:12,sm:5,md:4,lg:3},r.createElement(gn.a,null,r.createElement(Na.a,null,r.createElement(Ta.a,{button:!0,selected:0===a,onClick:i(0)},r.createElement(_a.a,null,"\u57fa\u672c\u8a2d\u5b9a")),r.createElement(Ta.a,{button:!0,selected:1===a,onClick:i(1)},r.createElement(_a.a,null,"\u30b3\u30e9\u30dc\u30ec\u30fc\u30bf\u30fc")),r.createElement(Ta.a,{button:!0,selected:2===a,onClick:i(2)},r.createElement(_a.a,null,"\u516c\u958b\u8a2d\u5b9a")),r.createElement(Ta.a,{button:!0,selected:3===a,onClick:i(3)},r.createElement(_a.a,null,"\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u8907\u88fd")),r.createElement(Ta.a,{button:!0,selected:4===a,onClick:i(4)},r.createElement(_a.a,null,"\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u30aa\u30fc\u30ca\u30fc\u5909\u66f4")),r.createElement(Ta.a,{button:!0,selected:5===a,onClick:i(5)},r.createElement(_a.a,null,"\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u524a\u9664"))))),r.createElement(ya.a,{item:!0,xs:12,sm:7,md:8,lg:9},r.createElement(Vn.a,{maxWidth:600},0===a&&r.createElement(Ra,null),1===a&&r.createElement(Da,null),2===a&&r.createElement(Wa,null),3===a&&r.createElement(za,null),4===a&&r.createElement(Ya,null),5===a&&r.createElement(Ka,null)))))},Qa=n(249),Za=n(699),Xa=n(729),$a=n(730),er=n(731),tr=n(732),nr=n(79),ar=n(245),rr=n(454);var cr=Object(o.b)((function(e){var t=e.manual,n=t.manual,a=t.node;return Object(u.a)({manual:j()(n),node:j()(a)},e.ks)}),(function(e){return{putTree:function(t){return e(O.put(t))}}}))(rr.a),ir=n(461);var or=Object(o.b)((function(e){var t=e.manual,n=t.manual,a=t.node;return Object(u.a)(Object(u.a)({manual:n,node:a},e.ks),e.rs)}),(function(e){return{putTree:function(t){return e(O.put(t))}}}))(ir.a),lr=r.forwardRef((function(e,t){return r.createElement(mn.b,Object.assign({innerRef:t},e))})),ur=n(24),sr=n(84),dr=n(189),mr=n(244),fr=n(246),pr=n(78),hr=n(36),br=n(110),gr=n(149),Or=n(77),Er=[{d:"M0 0h24v24H0z",fill:!1},{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z",fill:!0}],vr=[{d:"M0 0h24v24H0z",fill:!1},{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z",fill:!0}],jr=function(e){var t=e.node,n=e.ks,a=e.expand,c=e.stageRef,i=Object(E.i)(t.type)?mr.a[50]:Object(E.h)(t.type)?fr.a[100]:ar.a[100],o={x:0,y:0,width:t.rect.w*n.unit,height:t.rect.h*n.unit,cornerRadius:4,fill:i,stroke:"#0000",strokeWidth:6,shadowColor:"black",shadowBlur:6,shadowOffsetY:3,shadowOpacity:.2},l={text:me.a.isEmpty(t.label)?Object(E.i)(t.type)?hr.a.empty.task:Object(E.h)(t.type)?hr.a.empty.switch:hr.a.empty.case:t.label,fontSize:n.fontSize*n.unit,x:(n.rect.h+n.fontSize/2)*n.unit,y:(n.rect.h-n.fontHeight)/2*n.unit},u={ks:n,x:0,y:0,svg:Object(E.i)(t.type)?pr.c:Object(E.h)(t.type)?pr.b:gr.a,scale:Object(E.h)(t.type)?{x:1,y:-1}:void 0},s={x:(n.indent/2-n.spr.w)*n.unit,y:n.spr.h*n.unit,width:(t.self.w-(n.indent/2-n.spr.w))*n.unit,height:(t.self.h-n.spr.h)*n.unit,cornerRadius:n.cornerRadius*n.unit,stroke:nr.a[500],fill:0===t.depth.top?cc.palette.background.paper:"#00000009",strokeWidth:n.hasArrow?0:1},d={stroke:nr.a[700],fill:nr.a[700],pointerLength:n.pointerLength*n.unit,pointerWidth:n.pointerWidth*n.unit},m={ks:n,x:-n.rect.h*n.unit,y:0,svg:pr.a,color:cc.palette.secondary.main},f={ks:n,x:(n.rect.w-n.rect.h)*n.unit,y:0,svg:t.open?vr:Er,badgeContent:t.children.length,onClick:function(){return a(t)},onMouseEnter:function(){null!==c.current&&(c.current.container().style.cursor="pointer")},onMouseLeave:function(){null!==c.current&&(c.current.container().style.cursor="default")}};return r.createElement(ur.Group,{x:t.point.x*n.unit,y:t.point.y*n.unit},t.open&&r.createElement(ur.Rect,s),r.createElement(ur.Rect,o),r.createElement(Or.a,u),r.createElement(ur.Text,l),0!==t.children.length&&r.createElement(br.a,f),n.hasArrow&&t.arrows.map((function(e,a){var c=e.map((function(e){return[e.x,e.y]})).reduce((function(e,t){return e.concat(t)})).map((function(e){return e*n.unit}));return r.createElement(ur.Arrow,Object.assign({key:"".concat(t.id,"-arrow-").concat(a)},d,{points:c}))})),0===t.arrows.length&&0!==t.depth.top&&r.createElement(Or.a,m))},yr=n(181),xr=n.n(yr),wr=function(e){var t=e.open,n=e.close,a=e.node,i=e.ks,o=Object(r.useCallback)((function(e){if(null!==e&&null!==a){var t=sr.a.setCalcProps(x.a._get(a,E.c),i,!1),n=dr.a.setArrow(t,i);e.width((n.self.w+i.spr.w)*i.unit),e.height((n.self.h+i.spr.h)*i.unit),e.draw()}}),[i,a]),l=Object(r.useRef)();if(null===a)return c.a.createElement(c.a.Fragment,null);var u=sr.a.setCalcProps(x.a._get(a,E.c),i,!1),s=dr.a.setArrow(u,i),d=y.a.toArrayWithoutClose(s),m={ks:i,expand:function(e){}};return c.a.createElement(Qn.a,{open:t,onClose:n,maxWidth:"xl"},c.a.createElement(ea.a,{ref:l},c.a.createElement(ur.Stage,{ref:o},c.a.createElement(ur.Layer,null,d.map((function(e){return c.a.createElement(jr,Object.assign({key:e.id,node:e},m))}))))),c.a.createElement(aa.a,null,c.a.createElement(jn.a,{onClick:n},"\u9589\u3058\u308b"),c.a.createElement(xr.a,{trigger:function(){return c.a.createElement(jn.a,{color:"primary"},"\u5370\u5237\u3059\u308b")},content:function(){return l.current}})))};var kr=Object(o.b)((function(e){var t=e.manual.node;return Object(u.a)(Object(u.a)({node:t},e.ks),e.rs)}))(wr),Sr=n(102),Cr=n.n(Sr),Ir=n(184),Nr=n(239),Tr=n(248),_r=n(5),Ar=Object(_r.a)((function(e){return Object(Ir.a)({root:{position:"relative",padding:e.spacing(2),width:"100%"},select:{marginRight:e.spacing(1)},selectType:{marginRight:e.spacing(1)},switchIcon:{transform:"scale(1, -1)"},title:{fontSize:40},imageIcon:{marginRight:e.spacing(1)},imageFormContainer:{marginTop:-e.spacing(2),marginBottom:-e.spacing(1),width:"100%",paddingLeft:68},imageContainer:{position:"relative"},img:{[e.breakpoints.up("lg")]:{width:"100%",height:340,objectFit:"cover"},[e.breakpoints.down("md")]:{maxWidth:"100%",height:340,objectFit:"cover"}},deleteButton:{position:"absolute",top:-e.spacing(1),right:-e.spacing(1)}})}))((function e(t){var n=t.itemNumber,a=t.node,c=t.classes,i=r.createElement(xn.a,{position:"start"},r.createElement(N.f,null)),o=r.createElement(xn.a,{position:"start"},r.createElement(N.j,null)),l=r.createElement(xn.a,{position:"start"},r.createElement(N.l,null)),u=r.createElement(xn.a,{position:"start"},r.createElement(N.k,null)),s=r.createElement(xn.a,{position:"start"},r.createElement(N.p,null)),d=r.createElement(xn.a,{position:"start"},r.createElement(N.m,null)),m=r.createElement(xn.a,{position:"start"},r.createElement(N.i,null)),f=r.createElement(xn.a,{position:"start"},r.createElement(N.d,null)),p=null===a?E.a.task:a.type;return r.createElement("div",{className:c.root},r.createElement(ya.a,{container:!0,spacing:2},r.createElement(ya.a,{item:!0,xs:12,lg:8},r.createElement(ya.a,{container:!0,alignItems:"flex-end",spacing:1},r.createElement(ya.a,{item:!0},r.createElement(Nr.a,null,r.createElement(Tr.a,{classes:{icon:Object(E.h)(p)?Cr()(c.selectType,c.switchIcon):c.selectType,select:c.select},value:a.type,IconComponent:function(e){return Object(E.i)(p)?r.createElement(N.o,e):Object(E.h)(p)?r.createElement(N.n,e):r.createElement(N.a,e)},disabled:!0},r.createElement(fa.a,{value:"0"},"\u4f5c\u696d"),r.createElement(fa.a,{value:"1"},"\u5206\u5c90"),Object(E.g)(a.type)&&r.createElement(fa.a,{value:"2"},"\u6761\u4ef6")))),r.createElement(ya.a,{item:!0,xs:!0},a.label!==n&&r.createElement(En.a,{variant:"h5"},n))),r.createElement(vn.a,{style:{paddingLeft:80},placeholder:Object(E.i)(a.type)?hr.a.placeholder.task:Object(E.h)(a.type)?hr.a.placeholder.switch:hr.a.placeholder.case,value:a.label,InputProps:{classes:{input:c.title}},fullWidth:!0,disabled:!0}),r.createElement(vn.a,{style:{paddingLeft:80},placeholder:"\u30a4\u30f3\u30d7\u30c3\u30c8",value:a.input,InputProps:{startAdornment:i},fullWidth:!0,multiline:!0,disabled:!0}),r.createElement(vn.a,{style:{paddingLeft:80},placeholder:"\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8",value:a.output,InputProps:{startAdornment:o},fullWidth:!0,disabled:!0}),r.createElement(vn.a,{style:{paddingLeft:80},placeholder:"\u4e8b\u524d\u6761\u4ef6",value:a.preConditions,InputProps:{startAdornment:l},fullWidth:!0,multiline:!0,disabled:!0}),r.createElement(vn.a,{style:{paddingLeft:80},placeholder:"\u4e8b\u5f8c\u6761\u4ef6",value:a.postConditions,InputProps:{startAdornment:u},fullWidth:!0,disabled:!0}),r.createElement(vn.a,{style:{paddingLeft:80},placeholder:"\u62c5\u5f53\u8005",value:a.workerInCharge,InputProps:{startAdornment:s},fullWidth:!0,multiline:!0,disabled:!0}),r.createElement(vn.a,{style:{paddingLeft:80},placeholder:"\u5099\u8003",value:a.remarks,InputProps:{startAdornment:d},fullWidth:!0,disabled:!0}),r.createElement(vn.a,{style:{paddingLeft:80},placeholder:"\u5fc5\u8981\u30b7\u30b9\u30c6\u30e0\u30fb\u30c4\u30fc\u30eb",value:a.necessaryTools,InputProps:{startAdornment:m},fullWidth:!0,multiline:!0,disabled:!0}),r.createElement(vn.a,{style:{paddingLeft:80},placeholder:"\u4f8b\u5916",value:a.exceptions,InputProps:{startAdornment:f},fullWidth:!0,disabled:!0})),r.createElement(ya.a,{item:!0,xs:12,lg:4},0!==a.imageBlob.length&&r.createElement(ya.a,{container:!0,justify:"center"},r.createElement(ya.a,{item:!0},r.createElement(gn.a,{className:c.imageContainer},r.createElement("img",{src:a.imageBlob,className:c.img,alt:a.imageName})))))),a.children.map((function(a,c){return r.createElement(e,Object.assign({key:a.id},t,{itemNumber:"".concat(n," - ").concat(c+1),node:a}))})))})),Rr=function(e){var t=e.open,n=e.close,a=e.node,i=Object(r.useRef)();return null===a?c.a.createElement(c.a.Fragment,null):c.a.createElement(Qn.a,{open:t,onClose:n,maxWidth:"xl"},c.a.createElement(ea.a,{ref:i},c.a.createElement(Ar,{node:a,itemNumber:a.label})),c.a.createElement(aa.a,null,c.a.createElement(jn.a,{onClick:n},"\u9589\u3058\u308b"),c.a.createElement(xr.a,{trigger:function(){return c.a.createElement(jn.a,{color:"primary"},"\u5370\u5237\u3059\u308b")},content:function(){return i.current}})))};var Lr=Object(o.b)((function(e){return{node:e.manual.node}}))(Rr),Pr=Object(bn.a)((function(e){return{root:{paddingTop:e.spacing(1)},header:{display:"flex",paddingTop:e.spacing(1),marginLeft:e.spacing(2),marginRight:e.spacing(2)},info:{color:nr.a[600],"&:hover":{opacity:.5}},favorite:{color:ar.a[600],"&:hover":{opacity:.5}},like:{color:sn.a[500],"&:hover":{opacity:.5}},body:{width:"calc(100vw - ".concat(Zr,"px)"),[e.breakpoints.down("sm")]:{width:"100vw"}},progressContainer:{width:"",height:"calc(100vh - ".concat(Zr,"px)"),position:"relative"},progress:{position:"absolute",top:"50%",left:"50%",marginTop:-30,marginLeft:-30}}})),Mr=Object(fn.h)((function(e){var t=e.user,n=e.manual,a=e.users,i=e.selectNode,o=e.ks,l=e.zoomIn,u=e.zoomOut,s=e.location,d=e.history,m="tree/edit"===s.pathname.slice(-"tree/edit".length)||"tree"===s.pathname.slice(-"tree".length)?0:"text/edit"===s.pathname.slice(-"text/edit".length)||"text"===s.pathname.slice(-"text".length)?1:2,f="edit"===s.pathname.slice(-4),p=a.find((function(e){return e.id===n.ownerId})),h=Object(r.useState)(!1),b=Object(hn.a)(h,2),g=b[0],O=b[1],E=Object(r.useState)(!1),v=Object(hn.a)(E,2),j=v[0],y=v[1],x=Object(r.useState)(!1),w=Object(hn.a)(x,2),k=w[0],S=w[1],C=n.ownerId===t.id||void 0!==n.collaboratorIds.find((function(e){return e===t.id})),I=void 0!==n.favoriteIds.find((function(e){return e===t.id})),N=void 0!==n.likeIds.find((function(e){return e===t.id}));var T=Object(r.useRef)(null),_=Pr(),A=c.a.createElement("div",{className:_.body},c.a.createElement(fn.e,null,c.a.createElement(fn.c,{path:"/manual/:id/tree",render:function(){return c.a.createElement(cr,{buttonRef:T})}}),c.a.createElement(fn.c,{path:"/manual/:id/text",render:function(){return c.a.createElement(or,{buttonRef:T})}}),c.a.createElement(fn.c,{path:"/manual/:id/settings",render:function(){return c.a.createElement(Ja,null)}}))),R=c.a.createElement("div",{className:_.progressContainer},c.a.createElement(yn.a,{className:_.progress,size:60})),L="/manual/".concat(n.id,"/").concat(0===m?"tree":"text","/edit");return c.a.createElement("div",{className:_.root},c.a.createElement(Vn.a,{mt:1,mx:2},c.a.createElement(ya.a,{container:!0,justify:"space-between",alignItems:"center",spacing:2},c.a.createElement(ya.a,{item:!0},c.a.createElement(Vn.a,{display:"flex",flexDirection:"row"},c.a.createElement(En.a,{variant:"h5",color:"textSecondary"},"".concat(p.lastName," ").concat(p.firstName," /")),c.a.createElement(Vn.a,{ml:1},c.a.createElement(En.a,{variant:"h4"},n.title)),c.a.createElement(Vn.a,{ml:1,mt:-.8}))),c.a.createElement(ya.a,{item:!0},c.a.createElement(Vn.a,{display:"flex",flexDirection:"row"},c.a.createElement(Vn.a,{ml:2,mr:1},c.a.createElement(Za.a,{className:_.info,fontSize:"large"})),c.a.createElement(Vn.a,{ml:2,mr:1},I?c.a.createElement(Gn.a,{className:_.favorite,fontSize:"large",onClick:function(){e.deleteFavorite({manualId:n.id,userId:t.id})}}):c.a.createElement(Wn.a,{className:_.favorite,fontSize:"large",onClick:function(){e.postFavorite({manualId:n.id,userId:t.id})}})),c.a.createElement(Vn.a,{ml:2,mr:1},N?c.a.createElement(Xa.a,{className:_.like,fontSize:"large",onClick:function(){e.deleteLike({manualId:n.id,userId:t.id})}}):c.a.createElement(zn.a,{className:_.like,fontSize:"large",onClick:function(){e.postLike({manualId:n.id,userId:t.id})}})))))),c.a.createElement("div",{className:_.header},c.a.createElement(xa.a,{value:m,onChange:function(e,t){var a=0===t?"tree":1===t?"text":"settings";d.push("/manual/".concat(n.id,"/").concat(a).concat(f?"/edit":""))}},c.a.createElement(wa.a,{label:"\u30c4\u30ea\u30fc\u8868\u793a"}),c.a.createElement(wa.a,{label:"\u30c6\u30ad\u30b9\u30c8\u8868\u793a"}),c.a.createElement(wa.a,{label:"\u8a2d\u5b9a",disabled:f})),0===m&&!f&&c.a.createElement(Vn.a,{ml:1},c.a.createElement(wn.a,{onClick:function(){return y(!j)}},c.a.createElement($a.a,null))),1===m&&!f&&c.a.createElement(Vn.a,{ml:1},c.a.createElement(wn.a,{onClick:function(){return S(!k)}},c.a.createElement($a.a,null))),c.a.createElement("div",{style:{flexGrow:1}}),(0===m||1===m)&&C&&!f&&c.a.createElement(Vn.a,{mt:.7},c.a.createElement(jn.a,{component:lr,to:L,color:"primary"},"\u7de8\u96c6\u3059\u308b")),c.a.createElement("div",{ref:T}),0===m&&c.a.createElement(Vn.a,{ml:1},c.a.createElement(wn.a,{onClick:l,disabled:30===o.unit},c.a.createElement(er.a,null))),0===m&&c.a.createElement(Vn.a,{ml:1},c.a.createElement(wn.a,{onClick:u,disabled:8===o.unit},c.a.createElement(tr.a,null))),0===m&&c.a.createElement(Vn.a,{ml:1},c.a.createElement(wn.a,{onClick:function(){return O(!g)}},c.a.createElement(Ia.a,null)))),c.a.createElement(ka.a,null),null!==i?A:R,null!==i&&c.a.createElement(kr,{open:j,close:function(){return y(!1)}}),null!==i&&c.a.createElement(Lr,{open:k,close:function(){return S(!1)}}),c.a.createElement(Sa.a,{open:g,onClose:function(){return O(!1)},keepMounted:!0},c.a.createElement("div",null,c.a.createElement(Qa.a,null))))})),Dr=Object(bn.a)((function(e){return{box:{height:"50vh",width:"calc(100vw - ".concat(Zr,"px)"),[e.breakpoints.down("md")]:{width:"100vw"}},boxWithoutDrawer:{height:"50vh",width:"100vw"}}})),Fr=function(e){var t=e.hasDrawer,n=Dr();return c.a.createElement(Vn.a,{display:"flex",justifyContent:"center",alignItems:"flex-end",className:t?n.box:n.boxWithoutDrawer},c.a.createElement(Vn.a,null,c.a.createElement(yn.a,{size:60,color:"primary"})))};var Br=Object(o.b)((function(e){return Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({user:e.loginUser.user},e.manual),e.users),e.categories),e.ks)}),(function(e){return{get:function(t){return e(g.get(t))},replace:function(t){return e(g.put(t))},postFavorite:function(t){return e(g.checkFavorite(t))},deleteFavorite:function(t){return e(g.uncheckFavorite(t))},postLike:function(t){return e(g.checkLike(t))},deleteLike:function(t){return e(g.uncheckLike(t))},zoomIn:function(){return e(I.d.zoomIn())},zoomOut:function(){return e(I.d.zoomOut())}}}))((function(e){var t=e.user,n=e.manual,a=e.users,i=e.node,o=e.ks,l=e.match,u=e.get,s=e.replace,d=e.postFavorite,m=e.deleteFavorite,f=e.postLike,p=e.deleteLike,h=e.zoomIn,b=e.zoomOut;if(Object(r.useEffect)((function(){u(l.params.id)}),[]),null===n)return c.a.createElement(Fr,{hasDrawer:!0});var g={user:t,manual:n,users:a,selectNode:i,ks:o,replace:s,postFavorite:d,deleteFavorite:m,postLike:f,deleteLike:p,zoomIn:h,zoomOut:b};return c.a.createElement(Mr,g)})),Wr=function(){return r.createElement(fn.e,null,r.createElement(fn.c,{exact:!0,path:pn.dashboard,component:ja}),r.createElement(fn.c,{path:"/manual/:id",component:Br}),r.createElement(fn.b,{to:pn.dashboard}))},Gr=n(733),zr=n(302),Ur=n(466),Hr=Object(bn.a)((function(e){return{toolbar:e.mixins.toolbar,extendedIcon:{marginLeft:e.spacing(1)},listContainer:{height:"calc(100vh - 138px)"},selected:{backgroundColor:e.palette.grey[200]},notSelected:{backgroundColor:e.palette.background.paper}}}));var qr=Object(fn.h)((function(e){var t=e.categories,n=e.filter,a=e.filterReset,i=e.filterSet,o=e.location,l=e.history,u=Object(r.useState)(!1),s=Object(hn.a)(u,2),d=s[0],m=s[1];function f(){m(!1)}var p=Object(r.useState)(300),h=Object(hn.a)(p,2),b=h[0],g=h[1],O=Object(r.useState)(null),E=Object(hn.a)(O,2),v=E[0],j=E[1],y=Object(r.useCallback)((function(e){e&&(j(e),g(e.offsetHeight))}),[]);Object(r.useEffect)((function(){window.addEventListener("resize",(function(){null!==v&&g(v.offsetHeight)}))}),[v]);var x=Hr();return c.a.createElement("div",null,c.a.createElement("div",{className:x.toolbar}),c.a.createElement(ka.a,null),c.a.createElement(Vn.a,{m:2},c.a.createElement(Jn.a,{variant:"extended",size:"large",color:"primary",onClick:function(){m(!0)}},"\u65b0\u898f\u4f5c\u6210",c.a.createElement(Hn.a,{className:x.extendedIcon}))),c.a.createElement("div",{ref:y,className:x.listContainer},c.a.createElement(Ur.a,{height:b,itemCount:t.length,itemSize:50,width:300},(function(e){var r,u=e.index,s=e.style;return c.a.createElement("div",{className:null!==n&&n.id===t[u].id?x.selected:x.notSelected,style:s,onClick:(r=t[u],function(){null!==n&&n.id===r.id?a():(i(r),o.pathname!==pn.dashboard&&l.push(pn.dashboard))})},c.a.createElement(Vn.a,{display:"flex",alignItems:"center",height:"100%",pl:2},c.a.createElement(En.a,null,t[u].name)))}))),c.a.createElement(Qn.a,{open:d,onClose:f,maxWidth:"sm",fullWidth:!0},c.a.createElement(Oa,{onClose:f})))}));var Kr=Object(o.b)((function(e){return Object(u.a)(Object(u.a)({},e.categories),e.manual)}),(function(e){return{filterSet:function(t){return e(Ye.filterSet(t))},filterReset:function(){return e(Ye.filterReset())}}}))(qr),Vr=n(250),Yr=Object(bn.a)((function(e){return{root:{},switch:{minWidth:150,margin:e.spacing(1),marginBottom:0}}})),Jr=function(e){var t=e.user,n=e.update,a=e.enqueue,c=e.onClose,i=Object(r.useState)(t),o=Object(hn.a)(i,2),l=o[0],s=o[1],d=Object(r.useState)(!1),m=Object(hn.a)(d,2),f=m[0],p=m[1],h=Object(r.useState)(0),b=Object(hn.a)(h,2),g=b[0],O=b[1];var E=Object(r.useState)(l.lastName),v=Object(hn.a)(E,2),j=v[0],y=v[1],x=Object(r.useState)(l.firstName),w=Object(hn.a)(x,2),k=w[0],S=w[1],C=Object(r.useState)(l.mail),I=Object(hn.a)(C,2),N=I[0],T=I[1];Xn.a.isEqual(l,t)||(s(t),y(t.lastName),S(t.firstName),T(t.mail));var _=Object(r.useState)(!0),A=Object(hn.a)(_,2),R=A[0],L=A[1],P=Object(r.useState)(""),M=Object(hn.a)(P,2),D=M[0],F=M[1],B=Object(r.useState)(!1),W=Object(hn.a)(B,2),G=W[0],z=W[1],U=me.a.validPassword(D),H=Object(r.useState)(""),q=Object(hn.a)(H,2),K=q[0],V=q[1],Y=Object(r.useState)(!1),J=Object(hn.a)(Y,2),Q=J[0],Z=J[1],X=me.a.validPassword(K),$=Object(r.useState)(""),ee=Object(hn.a)($,2),te=ee[0],ne=ee[1],ae=Object(r.useState)(!1),re=Object(hn.a)(ae,2),ce=re[0],ie=re[1],oe=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(N),le=r.createElement("div",null,r.createElement(Vn.a,{pb:2,display:"flex",flexDirection:"row"},r.createElement(Vn.a,{flexGrow:1,pr:1},r.createElement(vn.a,{label:"\u59d3",value:j,onChange:function(e){return y(e.target.value)},error:""===j,helperText:""===j?"\u59d3\u306f\u5fc5\u9808\u3067\u3059":void 0,fullWidth:!0,disabled:!f})),r.createElement(Vn.a,{flexGrow:1,pl:1},r.createElement(vn.a,{label:"\u540d",value:k,onChange:function(e){return S(e.target.value)},error:""===k,helperText:""===k?"\u540d\u306f\u5fc5\u9808\u3067\u3059":void 0,fullWidth:!0,disabled:!f}))),r.createElement(vn.a,{label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",value:N,onChange:function(e){return T(e.target.value)},error:!oe,helperText:""===N?"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u5fc5\u9808\u3067\u3059":oe?void 0:"\u4e0d\u6b63\u306a\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3067\u3059",fullWidth:!0,disabled:!f})),ue=r.createElement("div",null,r.createElement(Vn.a,{pb:2},r.createElement(vn.a,{label:"\u53e4\u3044\u30d1\u30b9\u30ef\u30fc\u30c9",type:G?"text":"password",value:D,onChange:function(e){return F(e.target.value)},InputProps:{endAdornment:r.createElement(xn.a,{position:"end"},r.createElement(wn.a,{onClick:function(){return z(!G)}},G?r.createElement(kn.a,null):r.createElement(Sn.a,null)))},error:!R&&void 0!==U,helperText:R?void 0:U,fullWidth:!0})),r.createElement(Vn.a,{pb:2},r.createElement(vn.a,{label:"\u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9",type:Q?"text":"password",value:K,onChange:function(e){return V(e.target.value)},InputProps:{endAdornment:r.createElement(xn.a,{position:"end"},r.createElement(wn.a,{onClick:function(){return Z(!Q)}},Q?r.createElement(kn.a,null):r.createElement(Sn.a,null)))},error:!R&&void 0!==X,helperText:R?void 0:X,fullWidth:!0})),r.createElement(vn.a,{label:"\u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u78ba\u8a8d",type:ce?"text":"password",value:te,onChange:function(e){return ne(e.target.value)},InputProps:{endAdornment:r.createElement(xn.a,{position:"end"},r.createElement(wn.a,{onClick:function(){return ie(!ce)}},ce?r.createElement(kn.a,null):r.createElement(Sn.a,null)))},error:K!==te,helperText:K!==te?"\u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u4e00\u81f4\u3057\u3066\u3044\u307e\u305b\u3093":void 0,fullWidth:!0})),se=""!==j&&""!==k&&oe,de=Yr();return r.createElement(r.Fragment,null,r.createElement($n.a,{className:de.root},"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb"),r.createElement(ea.a,null,r.createElement(Vr.a,{in:f},r.createElement(Vn.a,{mt:-2,mb:2},r.createElement(xa.a,{value:g,onChange:function(e,t){O(t)}},r.createElement(wa.a,{label:"\u57fa\u672c\u60c5\u5831"}),r.createElement(wa.a,{label:"\u30d1\u30b9\u30ef\u30fc\u30c9"})))),r.createElement(Vn.a,{height:260},(!f||0===g)&&le,1===g&&ue)),r.createElement(aa.a,null,!f&&r.createElement(jn.a,{onClick:c},"\u9589\u3058\u308b"),f&&r.createElement(jn.a,{onClick:function(){y(l.lastName),S(l.firstName),T(l.mail),F(""),V(""),ne(""),p(!1),O(0)}},"\u30ad\u30e3\u30f3\u30bb\u30eb"),!f&&r.createElement(jn.a,{onClick:function(){return p(!0)},color:"primary"},"\u7de8\u96c6"),f&&0===g&&r.createElement(jn.a,{onClick:function(){var e=Object(u.a)(Object(u.a)({},l),{},{lastName:j,firstName:k,mail:N});n(e),p(!1),O(0)},color:"primary",disabled:!se},"\u57fa\u672c\u60c5\u5831\u306e\u66f4\u65b0"),f&&1===g&&r.createElement(jn.a,{color:"primary",onClick:function(){if(L(!1),void 0===U&&void 0===X){var e={now:D,next:K};Ie.put("".concat("/api/v1/password","/").concat(l.id),e).then((function(e){var t={key:Ct(),variant:"success",message:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f"};return a(t),F(""),V(""),ne(""),p(!1),O(0),e})).catch((function(e){var t={key:Ct(),variant:"error",message:"\u30d1\u30b9\u30ef\u30fc\u30c9\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f"};return a(t),{error:e}}))}},disabled:K!==te||!R&&(void 0!==U||void 0!==X)},"\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u66f4\u65b0")))};var Qr=Object(o.b)((function(e){return{user:e.loginUser.user}}),(function(e){return{update:function(t){return e(p.put(t))},enqueue:function(t){return e(Qe.enqueue(t))}}}))(Jr),Zr=300,Xr=Object(bn.a)((function(e){return{root:{display:"flex"},drawer:{[e.breakpoints.up("lg")]:{width:Zr,flexShrink:0}},appBar:{zIndex:e.zIndex.drawer+1,borderBottom:"1px solid rgb(0,0,0,0.12)"},logoContainer:{[e.breakpoints.up("lg")]:{width:Zr-e.spacing(3),flexShrink:0}},menuButton:{marginRight:e.spacing(2),[e.breakpoints.up("lg")]:{display:"none"}},search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:e.palette.background.default,marginRight:e.spacing(1),marginLeft:e.spacing(3),width:"auto",[e.breakpoints.up("lg")]:{width:"auto",marginLeft:e.spacing(24)}},searchIcon:{width:e.spacing(9),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{paddingTop:e.spacing(.8),paddingRight:e.spacing(.8),paddingBottom:e.spacing(.8),paddingLeft:e.spacing(10),transition:e.transitions.create("width"),width:"100%",[e.breakpoints.up("lg")]:{width:240}},grow:{flexGrow:1},accountCircle:{marginRight:e.spacing(1)},toolbar:e.mixins.toolbar,drawerPaper:{width:Zr},content:{flexGrow:1,padding:e.spacing(0)}}}));var $r=Object(fn.h)((function(e){var t=e.user,n=e.categories,a=e.logout,r=(e.location,Xr()),i=c.a.useState(!1),o=Object(hn.a)(i,2),l=o[0],u=o[1];function s(){u(!l)}var d=c.a.useState(""),m=Object(hn.a)(d,2);m[0],m[1];var f=c.a.useState(null),p=Object(hn.a)(f,2),h=p[0],b=p[1],g=Boolean(h),O=c.a.useState(!1),E=Object(hn.a)(O,2),v=E[0],j=E[1];function y(){j(!1)}var x=c.a.createElement(zr.a,{anchorEl:h,anchorOrigin:{vertical:"top",horizontal:"right"},id:"account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:g,onClose:function(){b(null)}},c.a.createElement(fa.a,{onClick:function(){b(null),j(!0)}},"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb"),c.a.createElement(fa.a,{onClick:function(){b(null),a()}},"\u30ed\u30b0\u30a2\u30a6\u30c8")),w=c.a.createElement(Qn.a,{open:v,onClose:y,maxWidth:"sm",fullWidth:!0},c.a.createElement(Qr,{onClose:y}));return c.a.createElement("div",{className:r.root},c.a.createElement(An.a,{position:"fixed",color:"inherit",elevation:0,className:r.appBar},c.a.createElement(Dn.a,null,c.a.createElement(wn.a,{color:"inherit","aria-label":"Open drawer",edge:"start",onClick:s,className:r.menuButton},c.a.createElement(Mn.a,null)),c.a.createElement(jn.a,{component:lr,to:pn.dashboard,size:"small"},c.a.createElement(En.a,{variant:"h6",noWrap:!0},"Flow Like")),!1,c.a.createElement("div",{className:r.grow}),c.a.createElement(jn.a,{"aria-label":"Account of current user","aria-controls":"account-menu","aria-haspopup":"true",onClick:function(e){b(e.currentTarget)},color:"inherit"},c.a.createElement(Gr.a,{className:r.accountCircle}),"".concat(t.lastName," ").concat(t.firstName)),x,w)),c.a.createElement("nav",{className:r.drawer},c.a.createElement(Ln.a,{lgUp:!0,implementation:"css"},c.a.createElement(Rn.a,{variant:"temporary",open:l,onClose:s,classes:{paper:r.drawerPaper},ModalProps:{keepMounted:!0}},c.a.createElement(Kr,null))),c.a.createElement(Ln.a,{mdDown:!0,implementation:"css"},c.a.createElement(Rn.a,{classes:{paper:r.drawerPaper},variant:"permanent",open:!0},c.a.createElement(Kr,null)))),c.a.createElement("main",{className:r.content},c.a.createElement("div",{className:r.toolbar}),0!==n.length&&c.a.createElement(Wr,null)))}));var ec=Object(o.b)((function(e){return Object(u.a)({user:e.loginUser.user},e.categories)}),(function(e){return{logout:function(){return e(qe.logout())}}}))($r);var tc=Object(o.b)((function(e){return Object(u.a)({},e.loginUser)}),(function(e){return{startSessionCheck:function(){return e(p.startSessionCheck())}}}))((function(e){var t=e.user,n=e.sessionChecked,a=e.startSessionCheck;return Object(r.useEffect)((function(){a()}),[a]),c.a.createElement(mn.a,null,c.a.createElement(fn.e,null,null===t&&!n&&c.a.createElement(fn.c,{render:function(){return c.a.createElement(Fr,{hasDrawer:!1})}}),null===t&&c.a.createElement(fn.c,{exact:!0,path:pn.login,component:_n}),null===t&&c.a.createElement(fn.b,{to:pn.login}),c.a.createElement(fn.c,{component:ec})))})),nc=function(e){return function(t){return c.a.createElement(wn.a,{key:t,color:"inherit",onClick:function(){return e(t)}},c.a.createElement(Ha.a,{style:{fontSize:20}}))}};var ac=Object(o.b)((function(e){return Object(u.a)({},e.notifications)}),(function(e){return{display:function(){return e(Qe.display())},dismiss:function(){return e(Qe.dismiss())},remove:function(t){return e(Qe.remove(t))}}}))((function(e){var t=e.enqueue,n=e.display,a=e.dequeue,i=e.dismiss,o=e.remove,l=Object(un.useSnackbar)(),u=l.enqueueSnackbar,s=l.closeSnackbar;return Object(r.useEffect)((function(){t&&(u(t.message,{key:t.key,variant:t.variant,action:nc(s),onExited:function(){return o(t.key)}}),n()),a&&(s(a.key),i())})),c.a.createElement(c.a.Fragment,null)})),rc=42,cc=Object(cn.a)({mixins:{toolbar:{minHeight:rc}},palette:{primary:sn.a,secondary:dn.a},typography:{button:{textTransform:"none"}},props:{MuiCheckbox:{color:"primary"},MuiList:{dense:!0},MuiRadio:{color:"primary"},MuiSwitch:{color:"primary"},MuiTextField:{variant:"outlined"}}}),ic=function(){return r.createElement(o.a,{store:rn},r.createElement(ln.a,{theme:cc},r.createElement(on.a,null),r.createElement(un.SnackbarProvider,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"right"},autoHideDuration:4e3},r.createElement(r.Fragment,null,r.createElement(ac,null),r.createElement(tc,null)))))};i.render(r.createElement(ic,null),document.querySelector("#root"))},77:function(e,t,n){"use strict";var a=n(0),r=n(24),c=function(e){var t=e.svg,n=e.x,c=e.y,i=e.fill,o=e.scale,l=e.rotation,u=e.onMouseEnter,s=e.onMouseLeave,d={x:0,y:0};return a.createElement(r.Group,{x:n,y:c},t.map((function(e){return a.createElement(r.Path,Object.assign({key:"svg-to-path-".concat(e.d)},d,{data:e.d,fill:e.fill?i:"#0000",scale:{x:o?o.x:1,y:o?o.y:1},rotation:l||0,onMouseEnter:u,onMouseLeave:s}))})))};t.a=function(e){var t=e.ks,n=e.x,i=e.y,o=e.svg,l=e.color,u=e.backgroundColor,s=e.rotate,d=e.scale,m=e.onClick,f=e.onMouseEnter,p=e.onMouseLeave,h={x:(t.rect.h-2*t.icon)/2*t.unit,y:(t.rect.h-2*t.icon)/2*t.unit,width:2*t.icon*t.unit,height:2*t.icon*t.unit,fill:u,opacity:.2,cornerRadius:t.rect.h/2*t.unit,onMouseEnter:f,onMouseLeave:p},b=t.unit/24,g={x:(t.rect.h-t.icon)/2*t.unit,y:void 0===d?(t.rect.h-t.icon)/2*t.unit:(t.rect.h-t.icon*d.y)/2*t.unit,svg:o,fill:l||"black",rotate:s||0,scale:d?{x:d.x*b,y:d.y*b}:{x:b,y:b},onMouseEnter:f,onMouseLeave:p};return a.createElement(r.Group,{x:n,y:i,onClick:m},a.createElement(r.Rect,h),a.createElement(c,g))}},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c}));var a=[{d:"M0 0h24v24H0z",fill:!1},{d:"M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z",fill:!0}],r=[{d:"M0 0h24v24H0z",fill:!1},{d:"M14 4l2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z",fill:!0}],c=[{d:"M0 0h24v24H0z",fill:!1},{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z",fill:!0}]},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(2),r=n(56),c=function e(){Object(r.a)(this,e)};c.calcSelfLength=function(e,t,n){if(e.open){if("width"===n){var a=0!==e.children.length?e.children.map((function(e){return e.self.w})).reduce((function(e,t){return Math.max(e,t)})):t.rect.w;return 1.5*t.indent+a}return t.rect.h+t.margin.h+(0!==e.children.length?e.children.map((function(e){return e.self.h+t.margin.h})).reduce((function(e,t){return e+t})):0)}return"width"===n?t.rect.w:t.rect.h},c._setSize=function(e,t,n){var r={w:t.rect.w,h:t.rect.h},i=0!==e.children.length?e.children.filter((function(e){return n||!e.isDraft})).map((function(e){return c._setSize(e,t,n)})):[],o=Object(a.a)(Object(a.a)({},e),{},{children:i}),l={w:c.calcSelfLength(o,t,"width"),h:c.calcSelfLength(o,t,"height")};return Object(a.a)(Object(a.a)({},e),{},{children:i,self:l,rect:r})},c._setPoint=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:t.spr.w,y:t.spr.h},i=0,o=e.children.filter((function(e){return n||!e.isDraft})).map((function(a){var o={x:r.x+t.indent,y:r.y+e.rect.h+t.margin.h+i},l=c._setPoint(a,t,n,o);return i+=a.self.h+t.margin.h,l}));return Object(a.a)(Object(a.a)({},e),{},{point:r,children:o})},c._setIndexAndDepth=function(e,t,n){if(!n.open||0===n.children.length){var r={top:t,bottom:0};return Object(a.a)(Object(a.a)({},n),{},{index:e,depth:r})}var i=n.children.map((function(e,n){return c._setIndexAndDepth(n,t+1,e)})),o=i.map((function(e){return e.depth.bottom})).reduce((function(e,t){return e>t?e:t}))+1,l={top:t,bottom:o};return Object(a.a)(Object(a.a)({},n),{},{children:i,index:e,depth:l})},c.setCalcProps=function(e,t,n){var a=c._setSize(e,t,n);return a=c._setPoint(a,t,n),a=c._setIndexAndDepth(0,0,a)},c.makeBaseDragMap=function(e){for(var t=[],n=0;n<e.point.y+e.self.h;n++)t[n]=void 0;return t},c.makeDragMap=function(e,t){var n=e[0],a=e.sort((function(e,t){return e.depth.bottom<t.depth.bottom?1:-1}));return[c.makeBaseDragMap(n)].concat(a.map((function(e){var n=c.makeBaseDragMap(e);return e.open&&0!==e.depth.top&&function(){for(var a=e.point.y+e.self.h-t.margin.h;a<e.point.y+e.self.h;a++)n[a]={node:e,action:"moveInOut"}}(),0!==e.depth.top&&function(){for(var t=e.point.y;t<e.point.y+e.rect.h;t++)n[t]={node:e,action:"moveToBrother"}}(),n}))).reduce((function(e,t){return e.map((function(e,n){return t.length-1<n?e:t[n]||e}))}))},c.makeBaseDropMap=function(e){for(var t=[],n=0;n<e.point.y+e.self.h;n++)t[n]=void 0;return t},c.makeDropMap=function(e,t){var n=e[0],a=e.sort((function(e,t){return e.depth.bottom<t.depth.bottom?1:-1})),r=c.makeBaseDropMap(n),i=Math.floor(t.margin.h/2),o=Math.floor(t.rect.h/2);return[r].concat(a.map((function(e){var n=c.makeBaseDropMap(e);if(0!==e.depth.top&&(function(){for(var a=e.point.y-t.margin.h;a<e.point.y+o;a++)n[a]={node:e,action:"insertBefore"}}(),function(){for(var a=e.point.y+o;a<e.point.y+t.rect.h+i;a++)n[a]={node:e,action:"insertNext"}}()),e.open)for(var a=e.point.y+e.self.h-t.margin.h;a<e.point.y+e.self.h;a++)n[a]={node:e,action:"insertLast"};return n}))).reduce((function(e,t){return e.map((function(e,n){return t.length-1<n?e:t[n]||e}))}))},c.isEqualRow=function(e,t){return void 0===e&&void 0===t||void 0!==e&&void 0!==t&&(e.action===t.action&&e.node.id===t.node.id)}},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"i",(function(){return c})),n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m}));var a,r=n(2);!function(e){e[e.task=0]="task",e[e.switch=1]="switch",e[e.case=2]="case"}(a||(a={}));var c=function(e){return e===a.task},i=function(e){return e===a.switch},o=function(e){return e===a.case},l={id:"",type:a.task,label:"",isDraft:!1,input:"",output:"",preConditions:"",postConditions:"",workerInCharge:"",remarks:"",necessaryTools:"",exceptions:"",imageName:"",imageBlob:"",children:[]},u={id:"",title:"",description:"",ownerId:"",collaboratorIds:[],categoryId:"",isPublic:!0,viewerIdsOfUser:[],viewerIdsOfGroup:[],visible:!0,favoriteIds:[],likeIds:[],rootTree:null,createAt:"",updateAt:""},s=Object(r.a)(Object(r.a)({},l),{},{children:[],open:!1,focus:!1,isDragging:!1}),d=Object(r.a)(Object(r.a)({},s),{},{children:[],index:0,depth:{top:0,bottom:0},point:{x:0,y:0},self:{w:0,h:0},rect:{w:0,h:0}}),m=Object(r.a)(Object(r.a)({},d),{},{children:[],arrows:[]})}},[[478,1,2]]]);
//# sourceMappingURL=main.e75d8b5b.chunk.js.map